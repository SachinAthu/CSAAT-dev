(this.webpackJsonpvideouploader=this.webpackJsonpvideouploader||[]).push([[0],{107:function(e,t,n){},13:function(e,t){e.exports={BASE_URL:"http://localhost:8000/api"}},137:function(e,t){},14:function(e,t,n){e.exports={search_container:"TableComponent_search_container__182HK",addbtn:"TableComponent_addbtn__1T-8x",table:"TableComponent_table__2UETo",table_info_refresh:"TableComponent_table_info_refresh__3UY93",viewDocbtn:"TableComponent_viewDocbtn__2C40y",viewbtn:"TableComponent_viewbtn__FWnWk",editbtn:"TableComponent_editbtn__3wh60",removebtn:"TableComponent_removebtn__3SrfJ",empty_table:"TableComponent_empty_table__23Tft",loading_div:"TableComponent_loading_div__2vRtK"}},164:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o=n(52),i=n.n(o),c=(n(107),n(6)),s=n(25),d=n(20),l=n(16),h=n(59),u=n.n(h),m=n(8),j=n(9),p=n(11),g=n(10),b=n(19),_=n.n(b),v=n.p+"static/media/logo.c03acd30.png",f="TYPICAL",O="ANTYPICAL",x="SINGLE",S="ALL",y="PLAY",C="PAUSE",w="STOP",E="CSAAT_VIDEO_UPLOAD_CHILDTYPE",N="CSAAT_VIDEO_UPLOAD_ACTIVE_CHILD",A="CSAAT_VIDEO_UPLOAD_ACTIVE_CHILD_NAME",k="CSAAT_VIDEO_UPLOAD_ACTIVE_SESSION",B="CSAAT_VIDEO_UPLOAD_ACTIVE_NAV",M="FETCH_T_CHILDREN",D="ADD_T_CHILD",I="UPDATE_T_CHILD",T="DELETE_T_CHILD",L="DELETE_CHILDREN",q="FETCH_SESSIONS",H="ADD_SESSION",R="UPDATE_SESSION",F="DELETE_SESSION",P="DELETE_SESSIONS",V="SET_ACTIVE_SESSION",U="SET_ACTIVE_SESSION",z="UPDATE_ACTIVE_SESSION",W="FETCH_VIDEOS",G="ADD_VIDEO",X="DELETE_VIDEO",Y="DELETE_VIDEOS",J="FETCH_AUDIO",Q="ADD_AUDIO",Z="DELETE_AUDIO",K="TOOGLE_PLAY_MODE",$="FETCH_CAMERAS",ee="ADD_CAMERA",te="DELETE_CAMERA",ne="DELETE_CAMERAS",ae="FETCH_CAMERA_ANGLES",re="ADD_CAMERA_ANGLE",oe="DELETE_CAMERA_ANGLE",ie="DELETE_CAMERA_ANGLES",ce="NAV_HOME",se="NAV_TYPICAL_CHILD",de="NAV_ATPICAL_CHILD",le="NAV_CAMERASE",he="NAV_CAMERA_ANGLESE",ue="SET_NAV",me=function(e){return function(t,n){t({type:ue,data:e})}},je=n(0),pe=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).setNav=function(e){var t="";switch(e.innerText){case"Home":t=ce;break;case"Typical Children":t=se;break;case"Atypical Children":t=de;break;case"Cameras":t=le;break;case"Camera Angles":t=he;break;default:return}a.props.setNav(t),localStorage.setItem(B,t),a.removeSelected(),e.classList.add("".concat(_.a.nav_a_selected))},a.removeSelected=function(){var e=document.getElementsByClassName("".concat(_.a.nav))[0];if(e)for(var t=e.getElementsByTagName("a"),n=0;n<t.length;n++)t[n].classList.remove("".concat(_.a.nav_a_selected))},a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){for(var e=document.getElementsByClassName("".concat(_.a.nav))[0].getElementsByTagName("a"),t=0;t<e.length;t++)e[t].addEventListener("click",this.setNav.bind(this,e[t]))}},{key:"componentWillUnmount",value:function(){for(var e=document.getElementsByClassName("".concat(_.a.nav))[0].getElementsByTagName("a"),t=0;t<e.length;t++)e[t].removeEventListener("click",this.setNav.bind(this,e[t]));localStorage.removeItem(B)}},{key:"render",value:function(){var e=null;return this.removeSelected(),e=this.props.currentNav?this.props.currentNav:localStorage.getItem(B),Object(je.jsxs)("div",{className:_.a.container,children:[Object(je.jsxs)("div",{className:_.a.logo,children:[Object(je.jsx)("img",{src:v,alt:"logo"}),Object(je.jsxs)("div",{className:_.a.logo_1,children:[Object(je.jsx)("h1",{className:_.a.logo_1_1,children:"CSAAT"}),Object(je.jsx)("h4",{className:_.a.logo_1_2,children:"Video Uploader"})]})]}),Object(je.jsx)("nav",{className:_.a.nav,children:Object(je.jsxs)("ul",{children:[Object(je.jsx)("li",{className:_.a.csaat_home,children:Object(je.jsxs)("a",{href:"http://127.0.0.1:8000",children:[Object(je.jsx)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(je.jsx)("path",{d:"M9.984 9.984h4.031q0-0.797-0.609-1.383t-1.406-0.586-1.406 0.586-0.609 1.383zM18.984 9.281l3 2.719h-3v8.016h-4.969v-6h-4.031v6h-4.969v-8.016h-3l9.984-9 3.984 3.609v-2.625h3v5.297z"})}),Object(je.jsx)("span",{children:"CSAAT Home"})]})}),Object(je.jsx)("li",{className:_.a.slicer_home,children:Object(je.jsxs)("a",{href:"http://127.0.0.1:8000/video-slicer",target:"_blank",rel:"noreferrer",children:[Object(je.jsx)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"26",height:"28",viewBox:"0 0 26 28",children:Object(je.jsx)("path",{d:"M8.703 20h9.297v-9.297zM8 19.297l9.297-9.297h-9.297v9.297zM26 20.5v3c0 0.281-0.219 0.5-0.5 0.5h-3.5v3.5c0 0.281-0.219 0.5-0.5 0.5h-3c-0.281 0-0.5-0.219-0.5-0.5v-3.5h-13.5c-0.281 0-0.5-0.219-0.5-0.5v-13.5h-3.5c-0.281 0-0.5-0.219-0.5-0.5v-3c0-0.281 0.219-0.5 0.5-0.5h3.5v-3.5c0-0.281 0.219-0.5 0.5-0.5h3c0.281 0 0.5 0.219 0.5 0.5v3.5h13.297l3.844-3.859c0.203-0.187 0.516-0.187 0.719 0 0.187 0.203 0.187 0.516 0 0.719l-3.859 3.844v13.297h3.5c0.281 0 0.5 0.219 0.5 0.5z"})}),Object(je.jsx)("span",{children:"Video Slicer"})]})}),Object(je.jsx)("li",{className:e===ce?_.a.nav_li_selected:null,children:Object(je.jsxs)(s.b,{to:"/",children:[Object(je.jsx)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(je.jsx)("path",{d:"M9.984 20.016h-4.969v-8.016h-3l9.984-9 9.984 9h-3v8.016h-4.969v-6h-4.031v6z"})}),Object(je.jsx)("span",{children:"Home"})]})}),Object(je.jsx)("li",{className:e===se?_.a.nav_li_selected:null,children:Object(je.jsxs)(s.b,{to:"/t_children",children:[Object(je.jsx)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(je.jsx)("path",{d:"M12.984 8.016q0-1.125-0.539-2.039t-1.43-1.453-2.016-0.539-2.016 0.539-1.43 1.453-0.539 2.039q0 1.078 0.539 1.992t1.43 1.453 2.016 0.539 2.016-0.539 1.43-1.453 0.539-1.992zM15 9.984v2.016h3v3h2.016v-3h3v-2.016h-3v-3h-2.016v3h-3zM0.984 18v2.016h16.031v-2.016q0-0.797-0.563-1.43t-1.477-1.125-1.992-0.797-2.133-0.469-1.852-0.164-1.852 0.164-2.133 0.469-1.992 0.797-1.477 1.125-0.563 1.43z"})}),Object(je.jsx)("span",{children:"Typical Children"})]})}),Object(je.jsx)("li",{className:e===de?_.a.nav_li_selected:null,children:Object(je.jsxs)(s.b,{to:"/at_children",children:[Object(je.jsx)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(je.jsx)("path",{d:"M14.016 8.016q0-1.125-0.539-2.039t-1.453-1.453-2.039-0.539q-1.078 0-1.992 0.539t-1.453 1.453-0.539 2.039q0 1.078 0.539 1.992t1.453 1.453 1.992 0.539q1.125 0 2.039-0.539t1.453-1.453 0.539-1.992zM17.016 9.984v2.016h6v-2.016h-6zM2.016 18v2.016h15.984v-2.016q0-0.797-0.563-1.43t-1.477-1.125-1.992-0.797-2.133-0.469-1.852-0.164-1.828 0.164-2.109 0.469-1.992 0.797-1.477 1.125-0.563 1.43z"})}),Object(je.jsx)("span",{children:"Atypical Children"})]})}),Object(je.jsx)("li",{className:e===le?_.a.nav_li_selected:null,children:Object(je.jsxs)(s.b,{to:"/cameras",children:[Object(je.jsx)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(je.jsx)("path",{d:"M12 17.016q2.063 0 3.539-1.477t1.477-3.539-1.477-3.539-3.539-1.477-3.539 1.477-1.477 3.539 1.477 3.539 3.539 1.477zM9 2.016h6l1.828 1.969h3.188q0.797 0 1.383 0.609t0.586 1.406v12q0 0.797-0.586 1.406t-1.383 0.609h-16.031q-0.797 0-1.383-0.609t-0.586-1.406v-12q0-0.797 0.586-1.406t1.383-0.609h3.188zM8.813 12q0-1.313 0.938-2.25t2.25-0.938 2.25 0.938 0.938 2.25-0.938 2.25-2.25 0.938-2.25-0.938-0.938-2.25z"})}),Object(je.jsx)("span",{children:"Cameras"})]})}),Object(je.jsx)("li",{className:e===he?_.a.nav_li_selected:null,children:Object(je.jsxs)(s.b,{to:"/camera_angles",children:[Object(je.jsx)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(je.jsx)("path",{d:"M15 15.516l3.516-3.516-3.516-3.516v2.531h-6v-2.531l-3.516 3.516 3.516 3.516v-2.531h6v2.531zM20.016 3.984q0.797 0 1.383 0.609t0.586 1.406v12q0 0.797-0.586 1.406t-1.383 0.609h-16.031q-0.797 0-1.383-0.609t-0.586-1.406v-12q0-0.797 0.586-1.406t1.383-0.609h3.188l1.828-1.969h6l1.828 1.969h3.188z"})}),Object(je.jsx)("span",{children:"Camera Angles"})]})})]})}),Object(je.jsxs)("div",{className:_.a.copyright,children:[Object(je.jsxs)("span",{className:_.a.copyright_1,children:["\xa9 Copyright ",Object(je.jsx)("strong",{children:"CSAAT"})]}),Object(je.jsx)("span",{className:_.a.copyright_2,children:"All Rights Reserved"})]})]})}}]),n}(a.Component),ge=Object(l.b)((function(e){return{currentNav:e.navigationReducer.currentNav}}),{setNav:me})(pe),be=n(22),_e=n.n(be),ve=n(34),fe=n(7),Oe=n.n(fe),xe=n(85),Se=n.n(xe),ye=function(e){var t=function(){var e=Object(ve.a)(_e.a.mark((function e(){return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe.a.get("http://127.0.0.1/logout");case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(je.jsxs)("header",{id:"app_header",className:Se.a.header,children:[Object(je.jsxs)("span",{children:["Welcome ",Object(je.jsx)("strong",{children:"sachinAthu!"})]}),Object(je.jsx)("button",{onClick:t,children:"Signout"})]})},Ce=n(55),we=n.n(Ce),Ee=n.p+"static/media/homepage.519f2d69.svg",Ne=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.props.setNav(ce),localStorage.setItem(B,ce)}},{key:"render",value:function(){return Object(je.jsxs)("div",{className:we.a.container,children:[Object(je.jsx)("h1",{children:"Upload Videos"}),Object(je.jsxs)("div",{className:we.a.tasks,children:[Object(je.jsxs)(s.b,{to:"/t_children",children:["\u27a2 ",Object(je.jsx)("span",{children:"Upload Typical Children Videos"})]}),Object(je.jsxs)(s.b,{to:"/at_children",children:["\u27a2 ",Object(je.jsx)("span",{children:"Upload Atypical Children Videos"})]}),Object(je.jsxs)(s.b,{to:"/cameras",children:["\u27a2 ",Object(je.jsx)("span",{children:"Configure Camera Details"})]}),Object(je.jsxs)(s.b,{to:"/camera_angles",children:["\u27a2 ",Object(je.jsx)("span",{children:"Configure Camera Angle Details"})]})]}),Object(je.jsx)("div",{className:we.a.image,children:Object(je.jsx)("img",{src:Ee,alt:"homepage"})})]})}}]),n}(a.Component),Ae=Object(l.b)(null,{setNav:me})(Ne),ke=n(18),Be=n(21),Me=n(38),De=n.n(Me),Ie=n(14),Te=n.n(Ie),Le=n(89),qe=n.n(Le),He=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){var e=[],t=this.props,n=t.sub_links,a=t.heading,r=t.current;if(n){for(var o=0;o<n.length;o++){var i=Object(je.jsx)(s.b,{to:{pathname:n[o].link,state:this.props.state},children:n[o].name});e.push(i)}e.push(r)}return Object(je.jsx)("div",{className:"container",children:Object(je.jsxs)("div",{className:"".concat(qe.a.breadcrumbs),children:[n?Object(je.jsx)("ol",{children:e.map((function(e,t){return Object(je.jsx)("li",{children:e},t)}))}):null,Object(je.jsx)("h2",{children:a})]})})}}]),n}(a.Component),Re=n(33),Fe=n(3),Pe=n.n(Fe),Ve=n(35),Ue=n.n(Ve),ze=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e){return Object(m.a)(this,n),t.call(this,e)}return Object(j.a)(n,[{key:"componentDidMount",value:function(){if(this.props.player){var e=document.getElementsByClassName("".concat(Ue.a.container))[0],t=document.getElementsByClassName("".concat(Ue.a.closebtn_svg))[0];e.classList.add("".concat(Ue.a.container_play)),t.classList.add("".concat(Ue.a.closebtn_play_svg))}}},{key:"render",value:function(){var e=this;return Object(je.jsxs)("div",{className:Ue.a.wrapper,children:[Object(je.jsxs)("div",{className:Ue.a.container,id:"modalContent",children:[Object(je.jsx)("button",{onClick:function(){return e.props.close()},className:Ue.a.closebtn,children:Object(je.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:Ue.a.closebtn_svg,children:[Object(je.jsx)("title",{children:"Close"}),Object(je.jsx)("path",{d:"M18.984 6.422l-5.578 5.578 5.578 5.578-1.406 1.406-5.578-5.578-5.578 5.578-1.406-1.406 5.578-5.578-5.578-5.578 1.406-1.406 5.578 5.578 5.578-5.578z"})]})}),this.props.children]}),Object(je.jsx)("div",{className:Ue.a.overlay,id:"modalFrameOverlay"})]})}}]),n}(a.Component),We=n(50),Ge=n.n(We),Xe=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).handleDragIn=function(e){e.preventDefault(),e.stopPropagation(),a.dragCounter++,e.dataTransfer.items&&e.dataTransfer.items.length>0&&a.setState({dragging:!0})},a.handleDragOut=function(e){e.preventDefault(),e.stopPropagation(),a.dragCounter--,a.dragCounter>0||a.setState({dragging:!1})},a.handleDrag=function(e){e.preventDefault(),e.stopPropagation()},a.handleDrop=function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.files&&e.dataTransfer.files.length>0&&(a.setState({dragging:!1}),a.props.onChange(e.dataTransfer.files[0]),e.dataTransfer.clearData(),a.dragCounter=0)},a.onChange=function(e){a.props.onChange(e.target.files[0])},a.state={dragging:!1},a.dropRef=r.a.createRef(),a.dragCounter=0,a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this.dropRef.current;e.addEventListener("dragenter",this.handleDragIn),e.addEventListener("dragleave",this.handleDragOut),e.addEventListener("dragover",this.handleDrag),e.addEventListener("drop",this.handleDrop),this.dragCounter=0}},{key:"componentWillUnmount",value:function(){var e=this.dropRef.current;e.removeEventListener("dragenter",this.handleDragIn),e.removeEventListener("dragleave",this.handleDragOut),e.removeEventListener("dragover",this.handleDrag),e.removeEventListener("drop",this.handleDrop)}},{key:"render",value:function(){var e=this.state.dragging,t=this.props.filename;return Object(je.jsxs)("div",{className:e?"".concat(Ge.a.dropbox," ").concat(Ge.a.dropbox_dragging):Ge.a.dropbox,ref:this.dropRef,style:{border:this.props.error?"1px solid var(--color-danger)":"1px solid rgba(0, 0, 0, 0.1)"},children:[t?Object(je.jsx)("span",{children:t}):null,Object(je.jsx)("input",{type:"file",name:"consent_doc",id:this.props.id,onChange:this.onChange,className:Ge.a.filefield}),Object(je.jsx)("label",{htmlFor:this.props.id,children:"Browse"})]})}}]),n}(a.Component),Ye=n(90),Je=n.n(Ye);function Qe(){return Object(je.jsx)("div",{className:Je.a.loader,children:"Loading..."})}var Ze=function(e){return function(t,n){t({type:M,data:e})}},Ke=function(){return function(e,t){e({type:L})}};Oe.a.defaults.xsrfCookieName="csrftoken",Oe.a.defaults.xsrfHeaderName="X-CSRFToken";var $e=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).checkFieldEmpty=function(e,t,n,r){return null==e||""===e?(a.showError(t,n,r),!1):(a.removeError(t,n),!0)},a.checkMaxLength=function(e,t,n,r,o){return e.toString().length>t?(a.showError(n,r,o),!1):(a.removeError(n,r),!0)},a.checkDocType=function(e,t,n,r){if(e)return"application/pdf"!==e.type.toLowerCase()?(a.showError(t,n,r),!1):(a.removeError(t,n),!0)},a.checkAllFields=function(e,t,n,r,o,i,c,s){var d,l,h,u,m,j,p,g=localStorage.getItem(E),b=!1,_=!1,v=!1,O=!1,x=!1,S=!1,y=!1;if(g===f){var C=document.getElementById("child_add_form_unique_no"),w=document.getElementById("child_add_form_unique_no_error");(b=a.checkFieldEmpty(e,C,w,"Child's unique number is required"))&&(_=a.checkMaxLength(e,20,C,w,"Maximum no of characters exceeded"));var N=document.getElementById("child_add_form_sequence_no"),A=document.getElementById("child_add_form_sequence_no_error");(v=a.checkFieldEmpty(t,N,A,"Child's sequence number is required"))&&(O=a.checkMaxLength(t,20,N,A,"Maximum no of characters exceeded"))}else{var k=document.getElementById("child_add_form_clinic_no"),B=document.getElementById("child_add_form_clinic_no_error");(x=a.checkFieldEmpty(n,k,B,"Child's clinic number is required"))&&(S=a.checkMaxLength(n,20,k,B,"Maximum no of characters exceeded"))}var M=document.getElementById("child_add_form_name"),D=document.getElementById("child_add_form_dob"),I=document.getElementById("child_add_form_cdoc"),T=document.getElementById("child_add_form_dgform"),L=document.getElementById("child_add_form_name_error"),q=document.getElementById("child_add_form_dob_error"),H=document.getElementById("child_add_form_gender_error"),R=document.getElementById("child_add_form_cdoc_error"),F=document.getElementById("child_add_form_dgform_error");return(d=a.checkFieldEmpty(r,M,L,"Child's name is required"))&&(y=a.checkMaxLength(r,200,M,L,"Maximum no of characters exceeded")),l=a.checkFieldEmpty(o,D,q,"Child's birth date is required"),h=a.checkFieldEmpty(i,null,H,"Child's gender is required"),u=a.checkFieldEmpty(c,I,R,"Consent document is required"),m=a.checkDocType(c,I,R,"Document must be a PDF"),u&&m?a.setState({cdocError:!1}):a.setState({cdocError:!0}),j=a.checkFieldEmpty(s,T,F,"Data gathering form is required"),p=a.checkDocType(s,T,F,"Document must be a PDF"),j&&p?a.setState({dgformError:!1}):a.setState({dgformError:!0}),g===f?!!(b&&_&&v&&O&&d&&y&&l&&h&&u&&m&&j&&p):!!(x&&S&&d&&y&&l&&h&&u&&h&&u&&m&&j&&p)},a.showError=function(e,t,n){t.style.display="block",t.innerHTML=n,e&&e.classList.add("".concat(Pe.a.errorBorder))},a.removeError=function(e,t){t.innerHTML="",t.style.display="none",e&&e.classList.remove("".concat(Pe.a.errorBorder))},a.showFailed=function(e){document.getElementById("child_add_edit_failed").innerHTML=e},a.onChangeHandler=function(e){var t=localStorage.getItem(E);switch(e.target.name){case"unique_no":if(t===f){var n=document.getElementById("child_add_form_unique_no"),r=document.getElementById("child_add_form_unique_no_error");a.checkFieldEmpty(e.target.value,n,r,"Child's unique number is required")&&a.checkMaxLength(e.target.value,20,n,r,"Maximum no of characters exceeded")}break;case"sequence_no":if(t===f){n=document.getElementById("child_add_form_sequence_no"),r=document.getElementById("child_add_form_sequence_no_error");a.checkFieldEmpty(e.target.value,n,r,"Child's sequence number is required")&&a.checkMaxLength(e.target.value,20,n,r,"Maximum no of characters exceeded")}break;case"clinic_no":if(t===O){n=document.getElementById("child_add_form_clinic_no"),r=document.getElementById("child_add_form_clinic_no_error");a.checkFieldEmpty(e.target.value,n,r,"Child's clinic number is required")&&a.checkMaxLength(e.target.value,20,n,r,"Maximum no of characters exceeded")}break;case"name":n=document.getElementById("child_add_form_name"),r=document.getElementById("child_add_form_name_error");a.checkFieldEmpty(e.target.value,n,r,"Child's name is required")&&a.checkMaxLength(e.target.value,200,n,r,"Maximum no of characters exceeded");break;case"dob":n=document.getElementById("child_add_form_dob"),r=document.getElementById("child_add_form_dob_error");a.checkFieldEmpty(e.target.value,n,r,"Child's birth date is required");break;case"gender":n=document.getElementById("child_add_form_gender"),r=document.getElementById("child_add_form_gender_error");a.checkFieldEmpty(e.target.value,n,r,"Child's gender is required")}a.setState(Object(Re.a)({},e.target.name,e.target.value))},a.onCDocChangeHandler=function(e){var t=document.getElementById("child_add_form_cdoc"),n=document.getElementById("child_add_form_cdoc_error");a.checkDocType(e,t,n,"Document must be a PDF")?a.setState({cdocError:!1}):a.setState({cdocError:!0}),a.setState({cdoc:e,cdoc_name:e.name})},a.onDGFormChangeHandler=function(e){var t=document.getElementById("child_add_form_dgform"),n=document.getElementById("child_add_form_dgform_error");a.checkDocType(e,t,n,"Document must be a PDF")?a.setState({dgformError:!1}):a.setState({dgformError:!0}),a.setState({dgform:e,dgform_name:e.name})},a.onSubmitHandler=function(e){e.preventDefault();var t=localStorage.getItem(E),n=a.state,r=n.unique_no,o=n.sequence_no,i=n.clinic_no,c=n.name,s=n.dob,d=n.gender,l=n.cdoc,h=(n.cdoc_name,n.dgform);n.dgform_name,document.getElementById("child_add_form_m"),document.getElementById("child_add_form_f");if(a.checkAllFields(r,o,i,c,s,d,l,h)){var u=new FormData;t===f?(u.append("unique_no",r),u.append("sequence_no",o)):u.append("clinic_no",i),u.append("name",c),u.append("dob",s),u.append("gender",d),l?u.append("cdoc",l):(u.append("cdoc",null),u.append("cdoc_name",null)),h?u.append("dgform",h):(u.append("dgform",null),u.append("dgform_name",null));var m="",j="";t===f?a.state.editing?(m="http://localhost:8000/api/update-t-child/".concat(a.state.id,"/"),j="PUT"):(m="http://localhost:8000/api/add-t-child/",j="POST"):a.state.editing?(m="http://localhost:8000/api/update-at-child/".concat(a.state.id,"/"),j="PUT"):(m="http://localhost:8000/api/add-at-child/",j="POST"),a.setState({requesting:!0}),Oe()(m,{method:j,data:u,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){a.setState({requesting:!1}),a.state.editing?a.props.updateChild(e.data):a.props.addChild(e.data),a.props.close()})).catch((function(e){a.setState({requesting:!1}),"POST"===j?a.showFailed("Child adding failed!"):a.showFailed("Child updating failed!")}))}},a.resetFormHandler=function(){var e=a.props.child,t=document.getElementById("child_add_form_m"),n=document.getElementById("child_add_form_f");e?(a.setState({id:e.id?e.id:"",unique_no:e.unique_no?e.unique_no:"",sequence_no:e.sequence_no?e.sequence_no:"",clinic_no:e.clinic_no?e.clinic_no:"",name:e.name?e.name:"",dob:e.dob?e.dob:""}),"male"===e.gender.toLowerCase()?(t.checked=!0,n.checked=!1):(n.checked=!0,t.checked=!1)):(a.setState({id:"",clinic_no:"",unique_no:"",sequence_no:"",name:"",dob:"",gender:"",cdoc:"",cdoc_name:"",dgform:"",dgform_name:""}),t.checked=!1,n.checked=!1);for(var r=document.getElementsByClassName("".concat(Pe.a.fieldError)),o=0;o<r.length;o++)r[o].innerHTML="",r[o].style.display="none";for(var i=document.getElementsByClassName("".concat(Pe.a.formgroup)),c=0;c<i.length;c++)i[c].children[1].classList.remove("".concat(Pe.a.errorBorder));a.setState({cdocError:!1,dgformError:!1})},a.state={id:"",clinic_no:"",unique_no:"",sequence_no:"",name:"",dob:"",gender:"",cdoc:"",cdoc_name:"",dgform:"",dgform_name:"",editing:!1,requesting:!1,cdocError:!1,dgformError:!1},a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=localStorage.getItem(E),t=this.props.child;if(t){e===f?this.setState({editing:!0,id:t.id,unique_no:t.unique_no?t.unique_no:"",sequence_no:t.sequence_no?t.sequence_no:"",name:t.name?t.name:"",dob:t.dob?t.dob:"",gender:t.gender?t.gender:""}):this.setState({editing:!0,id:t.id,clinic_no:t.clinic_no?t.clinic_no:"",name:t.name?t.name:"",dob:t.dob?t.dob:"",gender:t.gender?t.gender:""});var n=document.getElementById("child_add_form_m"),a=document.getElementById("child_add_form_f");"male"==t.gender.toLowerCase()?n.checked=!0:a.checked=!0}}},{key:"render",value:function(){var e=this.state,t=e.unique_no,n=e.sequence_no,a=e.clinic_no,r=e.name,o=e.dob,i=e.cdoc,c=e.cdoc_name,s=e.dgform,d=e.dgform_name,l=e.editing,h=e.requesting,u=localStorage.getItem(E);return Object(je.jsx)(ze,{close:this.props.close,children:Object(je.jsxs)("div",{className:Pe.a.container,style:{width:"34rem"},children:[Object(je.jsx)("h4",{children:l?"Edit Child":"New Child"}),Object(je.jsxs)("form",{className:Pe.a.form,onSubmit:this.onSubmitHandler,children:[u===f?Object(je.jsxs)("div",{className:Pe.a.formgroup,children:[Object(je.jsx)("label",{htmlFor:"child_add_form_unique_no",children:"UNIQUE NO"}),Object(je.jsx)("input",{type:"text",name:"unique_no",id:"child_add_form_unique_no",value:t,onChange:this.onChangeHandler}),Object(je.jsx)("span",{id:"child_add_form_unique_no_error",className:Pe.a.fieldError})]}):null,u===f?Object(je.jsxs)("div",{className:Pe.a.formgroup,children:[Object(je.jsx)("label",{htmlFor:"child_add_form_sequence_no",children:"SEQUENCE NO"}),Object(je.jsx)("input",{type:"text",name:"sequence_no",id:"child_add_form_sequence_no",value:n,onChange:this.onChangeHandler}),Object(je.jsx)("span",{id:"child_add_form_sequence_no_error",className:Pe.a.fieldError})]}):null,u===O?Object(je.jsxs)("div",{className:Pe.a.formgroup,children:[Object(je.jsx)("label",{htmlFor:"child_add_form_clinic_no",children:"CLINIC NO"}),Object(je.jsx)("input",{type:"text",name:"clinic_no",id:"child_add_form_clinic_no",value:a,onChange:this.onChangeHandler}),Object(je.jsx)("span",{id:"child_add_form_clinic_no_error",className:Pe.a.fieldError})]}):null,Object(je.jsxs)("div",{className:Pe.a.formgroup,children:[Object(je.jsx)("label",{htmlFor:"child_add_form_name",children:"CHILD NAME"}),Object(je.jsx)("input",{type:"text",name:"name",id:"child_add_form_name",value:r,onChange:this.onChangeHandler}),Object(je.jsx)("span",{id:"child_add_form_name_error",className:Pe.a.fieldError})]}),Object(je.jsxs)("div",{className:Pe.a.formgroup,children:[Object(je.jsx)("label",{htmlFor:"child_add_form_dob",children:"DATE OF BIRTH"}),Object(je.jsx)("input",{type:"date",name:"dob",id:"child_add_form_dob",value:o,onChange:this.onChangeHandler}),Object(je.jsx)("span",{id:"child_add_form_dob_error",className:Pe.a.fieldError})]}),Object(je.jsxs)("div",{className:Pe.a.formgroup_radio,children:[Object(je.jsxs)("div",{className:Pe.a.formgroup_radio_1,children:[Object(je.jsx)("label",{children:"GENDER"}),Object(je.jsx)("input",{type:"radio",id:"child_add_form_m",name:"gender",value:"Male",style:{marginLeft:50,marginRight:8},onChange:this.onChangeHandler}),Object(je.jsx)("label",{htmlFor:"child_add_form_m",children:"Male"}),Object(je.jsx)("input",{type:"radio",id:"child_add_form_f",name:"gender",value:"Female",style:{marginLeft:25,marginRight:8},onChange:this.onChangeHandler}),Object(je.jsx)("label",{htmlFor:"child_add_form_f",children:"Female"})]}),Object(je.jsx)("span",{id:"child_add_form_gender_error",className:Pe.a.fieldError})]}),Object(je.jsxs)("div",{className:Pe.a.formgroup_file,children:[Object(je.jsx)("label",{children:"CONSENT DOCUMENT"}),Object(je.jsx)(Xe,{id:"profile_add_form_cdoc",file:i,filename:c,onChange:this.onCDocChangeHandler,error:this.state.cdocError}),Object(je.jsx)("span",{id:"child_add_form_cdoc_error",className:Pe.a.fieldError})]}),Object(je.jsxs)("div",{className:Pe.a.formgroup_file,children:[Object(je.jsx)("label",{children:"DATA GATHERING FORM"}),Object(je.jsx)(Xe,{id:"profile_add_form_dgform",file:s,filename:d,onChange:this.onDGFormChangeHandler,error:this.state.dgformError}),Object(je.jsx)("span",{id:"child_add_form_dgform_error",className:Pe.a.fieldError})]}),Object(je.jsxs)("div",{className:Pe.a.formgroup_btn,children:[Object(je.jsx)("button",{type:"button",className:".button_reset ".concat(Pe.a.resetbtn),onClick:this.resetFormHandler,children:"Reset"}),Object(je.jsxs)("button",{type:"submit",className:Pe.a.submitbtn,children:[h?Object(je.jsx)(Qe,{}):null,l?"EDIT":"ADD"]})]})]}),Object(je.jsx)("span",{id:"child_add_edit_failed",className:Pe.a.failed})]})})}}]),n}(a.Component),et=Object(l.b)(null,{addChild:function(e){return function(t,n){t({type:D,data:e})}},updateChild:function(e){return function(t,n){t({type:I,data:e})}}})($e),tt=n.p+"static/media/empty.c8151922.svg",nt={headRow:{style:{minHeight:"56px",borderBottomWidth:"2px",borderBottomColor:"rgba(0,0,0,0.08)",borderBottomStyle:"solid"},denseStyle:{minHeight:"32px"}},headCells:{style:{fontFamily:'"Open Sans", sans-serif',fontSize:"14px",fontWeight:600,color:"rgba(68, 68, 68, 1)",paddingLeft:"16px",paddingRight:"16px"}},rows:{style:{fontFamily:'"Open Sans", sans-serif',fontSize:"14px",fontWeight:400,color:"rgba(68, 68, 68, 1)",minHeight:"48px","&:not(:last-of-type)":{borderBottomStyle:"solid",borderBottomWidth:"1px",borderBottomColor:"rgba(0,0,0,0.08)"}},denseStyle:{minHeight:"32px"},selectedHighlightStyle:{"&:nth-of-type(n)":{backgroundColor:"rgb(247, 248, 249)"}},highlightOnHoverStyle:{backgroundColor:"rgba(247, 248, 249, 0.7)",transitionDuration:"0.2s",transitionProperty:"background-color",outlineStyle:"solid",outlineWidth:"1px"}}},at=n(45),rt=n.n(at),ot=n(13),it=function(e){return function(t,n){t({type:H,data:e})}},ct=function(){return function(e,t){e({type:P})}},st=function(e){return function(t,n){t({type:V,data:e})}},dt=function(e){return function(t,n){t({type:W,data:e})}},lt=function(){return function(e,t){e({type:Y})}},ht=function(e){return function(t,n){t({type:J,data:e})}},ut=function(e){return function(t,n){t({type:$,data:e})}},mt=function(e){return function(t,n){t({type:ae,data:e})}},jt=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).deleteChilds=Object(ve.a)(_e.a.mark((function e(){var t,n,r,o,i=arguments;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=i.length>0&&void 0!==i[0]?i[0]:a.props.data,n=localStorage.getItem(E),a.setState({deleting:!0}),r="",r="".concat(ot.BASE_URL,n===f?"/delete-t-child":"/delete-at-child"),e.prev=5,o=0;case 7:if(!(o<t.length)){e.next=15;break}return e.next=10,Oe.a.delete("".concat(r,"/").concat(t[o].id));case 10:e.sent,a.props.deleteChild(t[o].id);case 12:o++,e.next=7;break;case 15:a.setState({deleting:!1}),a.setState({isError:!1}),setTimeout((function(){a.props.close()}),1e3),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(5),a.setState({deleting:!1}),a.setState({isError:!0});case 24:case"end":return e.stop()}}),e,null,[[5,20]])}))),a.deleteSession=Object(ve.a)(_e.a.mark((function e(){var t,n,r,o=arguments;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:a.props.data,a.setState({deleting:!0}),e.prev=2,e.next=5,Oe.a.delete("".concat(ot.BASE_URL,"/delete-session/").concat(t));case 5:if(n=e.sent,a.setState({deleting:!1}),a.setState({isError:!1}),(r=a.props.sessions.filter((function(e,n){return e.id!=t})))[0]&&(a.props.setActiveSession(r[0]),localStorage.setItem(k,r[0].id)),a.props.deleteSession(t),!r[0]){e.next=18;break}return e.next=14,Oe.a.get("".concat(ot.BASE_URL,"/audio/").concat(r[0].id,"/"));case 14:(n=e.sent)&&a.props.getAudio(n.data[0]),(n=Oe.a.get("".concat(ot.BASE_URL,"/videos/").concat(r[0].id,"/")))&&a.props.getVideos(n.data);case 18:a.setState({deleting:!1}),a.setState({isError:!1}),setTimeout((function(){a.props.close()}),1e3),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(2),a.setState({isError:!0});case 26:case"end":return e.stop()}}),e,null,[[2,23]])}))),a.deleteVideo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.props.data;a.setState({deleting:!0}),Oe.a.delete("".concat(ot.BASE_URL,"/delete-video/").concat(e,"/")).then((function(t){a.setState({deleting:!1}),a.setState({isError:!1}),a.props.deleteVideo(e),setTimeout((function(){a.props.close()}),1e3)})).catch((function(e){a.setState({deleting:!1}),a.setState({isError:!0})}))},a.deleteAudio=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.props.data;a.setState({deleting:!0}),Oe.a.delete("".concat(ot.BASE_URL,"/delete-audio/").concat(e,"/")).then((function(t){a.setState({deleting:!1}),a.setState({isError:!1}),a.props.deleteAudio(e),setTimeout((function(){a.props.close()}),1e3)})).catch((function(e){a.setState({deleting:!1}),a.setState({isError:!0})}))},a.deleteCameras=Object(ve.a)(_e.a.mark((function e(){var t,n,r=arguments;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.length>0&&void 0!==r[0]?r[0]:a.props.data,a.setState({deleting:!0}),e.prev=2,n=0;case 4:if(!(n<t.length)){e.next=12;break}return e.next=7,Oe.a.delete("".concat(ot.BASE_URL,"/delete-camera/").concat(t[n].id));case 7:e.sent,a.props.deleteCamera(t[n].id);case 9:n++,e.next=4;break;case 12:a.setState({deleting:!1}),a.setState({isError:!1}),setTimeout((function(){a.props.close()}),1e3),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(2),a.setState({deleting:!1}),a.setState({isError:!0});case 21:case"end":return e.stop()}}),e,null,[[2,17]])}))),a.deleteCameraAngles=Object(ve.a)(_e.a.mark((function e(){var t,n,r=arguments;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.length>0&&void 0!==r[0]?r[0]:a.props.data,a.setState({deleting:!0}),e.prev=2,n=0;case 4:if(!(n<t.length)){e.next=15;break}return e.next=7,Oe.a.delete("".concat(ot.BASE_URL,"/delete-camera-angle/").concat(t[n].id));case 7:e.sent,a.props.deleteCameraAngle(t[n].id),a.setState({deleting:!1}),a.setState({isError:!1}),setTimeout((function(){a.props.close()}),1e3);case 12:n++,e.next=4;break;case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(2),a.setState({deleting:!1}),a.setState({isError:!0});case 21:case"end":return e.stop()}}),e,null,[[2,17]])}))),a.deleteHandler=function(){switch(a.props.type){case"child":a.deleteChilds();break;case"session":a.deleteSession();break;case"video":a.deleteVideo();break;case"audio":a.deleteAudio();break;case"camera":a.deleteCameras();break;case"cameraAngle":a.deleteCameraAngles();break;default:return}},a.state={deleting:!1,isError:!1},a}return Object(j.a)(n,[{key:"render",value:function(){var e=this;return Object(je.jsx)(ze,{close:function(){return e.props.close(!0)},children:Object(je.jsxs)("div",{className:rt.a.container,id:"deleteConfirmWindow",children:[Object(je.jsxs)("div",{className:rt.a.header,children:[Object(je.jsx)("h3",{children:"Delete ?"}),Object(je.jsxs)("span",{children:["Are you sure you want to delete this ",this.props.header,this.props.many?"s":null,"? You can't undo this action."]})]}),Object(je.jsxs)("div",{className:rt.a.actions,children:[Object(je.jsxs)("button",{type:"button",className:".button_primary ".concat(rt.a.deletebtn),onClick:this.deleteHandler,children:[this.state.deleting?Object(je.jsx)(Qe,{}):null,"Delete"]}),Object(je.jsx)("button",{type:"button",className:".button_reset ".concat(rt.a.cancelbtn),onClick:function(){return e.props.close()},children:"Cancel"})]}),this.state.isError?Object(je.jsx)("span",{id:"delete_result",className:rt.a.result,children:"Deletion failed!"}):null]})})}}]),n}(a.Component),pt=Object(l.b)((function(e){return{sessions:e.sessionReducer.sessions,activeSession:e.sessionReducer.activeSession}}),{deleteChild:function(e){return function(t,n){t({type:T,data:e})}},setActiveSession:st,deleteSession:function(e){return function(t,n){t({type:F,data:e})}},getVideos:dt,deleteVideo:function(e){return function(t,n){t({type:X,data:e})}},getAudio:ht,deleteAudio:function(e){return function(t,n){t({type:Z,data:e})}},deleteCamera:function(e){return function(t,n){t({type:te,data:e})}},deleteCameraAngle:function(e){return function(t,n){t({type:oe,data:e})}}})(jt),gt=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).state={error:null,errorInfo:null},a}return Object(j.a)(n,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,errorInfo:t})}},{key:"render",value:function(){return this.state.errorInfo?Object(je.jsxs)("div",{children:[Object(je.jsx)("h2",{children:"Something went wrong."}),Object(je.jsxs)("details",{style:{whiteSpace:"pre-wrap"},children:[this.state.error&&this.state.error.toString(),Object(je.jsx)("br",{}),this.state.errorInfo.componentStack]})]}):this.props.children}}]),n}(a.Component),bt=n(91),_t=n.n(bt),vt=function(e){return Object(je.jsx)(a.Fragment,{children:Object(je.jsxs)("div",{className:_t.a.lds_default,children:[Object(je.jsx)("div",{}),Object(je.jsx)("div",{}),Object(je.jsx)("div",{}),Object(je.jsx)("div",{}),Object(je.jsx)("div",{}),Object(je.jsx)("div",{}),Object(je.jsx)("div",{}),Object(je.jsx)("div",{}),Object(je.jsx)("div",{}),Object(je.jsx)("div",{}),Object(je.jsx)("div",{}),Object(je.jsx)("div",{})]})})},ft=n(41),Ot=n.n(ft),xt=function(e){var t=null,n=localStorage.getItem(E),a=function(e){var n=document.getElementsByClassName("".concat(Ot.a.helptext))[0];1===e?t=setTimeout((function(){n.classList.add("".concat(Ot.a.show))}),1e3):(clearTimeout(t),n.classList.remove("".concat(Ot.a.show)))};return Object(je.jsxs)("div",{className:Ot.a.container,children:[Object(je.jsx)("input",{id:"searchField",name:"searchField",placeholder:"Search children...",type:"text",onChange:e.change}),Object(je.jsx)("svg",{className:Ot.a.searchIcon,version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(je.jsx)("path",{d:"M9.516 14.016q1.875 0 3.188-1.313t1.313-3.188-1.313-3.188-3.188-1.313-3.188 1.313-1.313 3.188 1.313 3.188 3.188 1.313zM15.516 14.016l4.969 4.969-1.5 1.5-4.969-4.969v-0.797l-0.281-0.281q-1.781 1.547-4.219 1.547-2.719 0-4.617-1.875t-1.898-4.594 1.898-4.617 4.617-1.898 4.594 1.898 1.875 4.617q0 0.984-0.469 2.227t-1.078 1.992l0.281 0.281h0.797z"})}),Object(je.jsx)("svg",{className:Ot.a.help,onMouseOver:function(){return a(1)},onMouseOut:function(){return a(0)},version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(je.jsx)("path",{d:"M18.984 3h-13.969q-0.844 0-1.43 0.586t-0.586 1.43v13.969q0 0.844 0.586 1.43t1.43 0.586h13.969q0.844 0 1.43-0.586t0.586-1.43v-13.969q0-0.844-0.586-1.43t-1.43-0.586zM12 18q-0.516 0-0.891-0.375t-0.375-0.891 0.375-0.891 0.891-0.375q0.563 0 0.914 0.375t0.352 0.891-0.352 0.891-0.914 0.375zM15 10.594q-0.563 0.844-1.055 1.242t-0.773 0.914q-0.141 0.234-0.188 0.492t-0.047 0.961h-1.828v-0.938t0.328-1.078q0.328-0.656 0.938-1.102t0.984-1.055q0.328-0.375 0.281-0.938t-0.445-0.984-1.195-0.422-1.219 0.492-0.563 1.008l-1.641-0.703q0.328-0.984 1.195-1.734t2.227-0.75q1.078 0 1.852 0.445t1.148 1.055q0.328 0.563 0.422 1.453t-0.422 1.641z"})}),Object(je.jsxs)("span",{className:Ot.a.helptext,children:["Search children by ",n==f?" unique no, sequence no, ":" clinic no, "," name, gender and date of birth"]})]})},St=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e){var r;return Object(m.a)(this,n),(r=t.call(this,e)).trackScrolling=function(){window.innerHeight+window.scrollY>=document.body.offsetHeight-120&&(r.state.isSearching||r.fetchChildren(!1,!0))},r.fetchChildren=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=20;if(!(r.lastClick>=Date.now()-n)){r.lastClick=Date.now();var a="";e?(r.props.deleteChildren(),a="".concat(ot.BASE_URL,"/t-children/")):a=r.state.nextLink?r.state.nextLink:"".concat(ot.BASE_URL,"/t-children/"),t||r.setState({loading:!0}),Oe.a.get(a).then((function(e){var t=e.data;r.props.getChildren(t.results),r.setState({count:t.count,prevLink:t.previous,nextLink:t.next,loading:!1})})).catch((function(e){r.setState({loading:!1})}))}},r.filterChildren=function(e){r.setState({loading:!0}),Oe.a.get("".concat(ot.BASE_URL,"/t-f-children/?search=").concat(e)).then((function(e){r.setState({loading:!1}),r.props.getChildren(e.data)})).catch((function(e){}))},r.createDataTable=function(){for(var e=r.props.children,t=[{name:"Unique No",selector:"unique_no",sortable:!0},{name:"Sequence No",selector:"sequence_no",sortable:!0},{name:"Child Name",selector:"name",sortable:!0},{name:"Date of Birth",selector:"dob",sortable:!0},{name:"Gender",selector:"gender",sortable:!0},{name:"Consent Document",sortable:!1,cell:function(e){return e.cdoc?Object(je.jsx)("a",{className:Te.a.viewDocbtn,href:"http://127.0.0.1:8000".concat(e.cdoc),target:"_blank",rel:"noopener noreferrer",children:"View"}):"-"}},{name:"Data Gathering Form",sortable:!1,cell:function(e){return e.dgform?Object(je.jsx)("a",{className:Te.a.viewDocbtn,href:"http://127.0.0.1:8000".concat(e.dgform),target:"_blank",rel:"noopener noreferrer",children:"View"}):"-"}},{name:"",sortable:!1,cell:function(e){return Object(je.jsxs)(a.Fragment,{children:[Object(je.jsx)("button",{className:Te.a.viewbtn,onClick:r.toChildHandler.bind(Object(Be.a)(r),e),children:Object(je.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",children:[Object(je.jsx)("title",{children:"Go to Details"}),Object(je.jsx)("path",{d:"M19.414 27.414l10-10c0.781-0.781 0.781-2.047 0-2.828l-10-10c-0.781-0.781-2.047-0.781-2.828 0s-0.781 2.047 0 2.828l6.586 6.586h-19.172c-1.105 0-2 0.895-2 2s0.895 2 2 2h19.172l-6.586 6.586c-0.39 0.39-0.586 0.902-0.586 1.414s0.195 1.024 0.586 1.414c0.781 0.781 2.047 0.781 2.828 0z"})]})}),Object(je.jsx)("button",{className:Te.a.editbtn,onClick:r.editHandler.bind(Object(Be.a)(r),e),children:Object(je.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[Object(je.jsx)("title",{children:"Edit"}),Object(je.jsx)("path",{d:"M20.719 7.031l-1.828 1.828-3.75-3.75 1.828-1.828q0.281-0.281 0.703-0.281t0.703 0.281l2.344 2.344q0.281 0.281 0.281 0.703t-0.281 0.703zM3 17.25l11.063-11.063 3.75 3.75-11.063 11.063h-3.75v-3.75z"})]})}),Object(je.jsx)("button",{className:Te.a.removebtn,onClick:r.deleteChildHandler.bind(Object(Be.a)(r),e),children:Object(je.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[Object(je.jsx)("title",{children:"Delete"}),Object(je.jsx)("path",{d:"M18.984 3.984v2.016h-13.969v-2.016h3.469l1.031-0.984h4.969l1.031 0.984h3.469zM6 18.984v-12h12v12q0 0.797-0.609 1.406t-1.406 0.609h-7.969q-0.797 0-1.406-0.609t-0.609-1.406z"})]})})]})}}],n=[],o=0;o<e.length;o++){var i={id:e[o].id,name:e[o].name,dob:e[o].dob,gender:e[o].gender,cdoc:e[o].cdoc,dgform:e[o].dgform,unique_no:e[o].unique_no,sequence_no:e[o].sequence_no};n.push(i)}return Object(je.jsx)(De.a,{columns:t,data:n,highlightOnHover:!0,responsive:!0,selectableRows:!0,selectableRowsHighlight:!0,pagination:!1,paginationPerPage:10,paginationRowsPerPageOptions:[10,15,20,25,30],customStyles:nt,onSelectedRowsChange:r.handleRowSelect})},r.closeAddingWindow=function(){r.setState({addOrEdit:!1,editChild:null})},r.closeDeleteConfirmPopup=function(e){e&&r.setState({selectedRows:[]}),r.setState({deleting:!1})},r.handleRowSelect=function(e){r.setState({selectedRows:e.selectedRows})},r.onSearchValChange=function(e){var t=e.target.value;r.setState({count:0,prevLink:null,nextLink:null}),r.props.deleteChildren(),""===t?(r.setState({isSearching:!1}),r.fetchChildren()):(r.setState({isSearching:!0}),r.filterChildren(t))},r.deleteChildHandler=function(e){for(var t=Object(ke.a)(r.state.selectedRows),n=!1,a=0;a<t.length;a++)t[a].id===e.id&&(n=!0);n||t.push(e),r.setState({deleting:!0,selectedRows:t})},r.toChildHandler=function(e){localStorage.setItem(N,e.id),localStorage.setItem(A,e.name),r.props.history.push({pathname:"/t_children/".concat(e.id)})},r.addChildHandler=function(){r.setState({addOrEdit:!0})},r.editHandler=function(e){r.setState({editChild:e,addOrEdit:!0})},r.state={addOrEdit:!1,editChild:null,selectedRows:[],deleting:!1,count:0,nextLink:null,prevLink:null,isSearching:!1,loading:!1},r.lastClick=0,r}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.props.deleteChildren(),this.props.deleteSessions(),this.props.deleteVideos(),localStorage.removeItem(k),this.props.setNav(se),localStorage.setItem(B,se),localStorage.setItem(E,f),this.fetchChildren(),document.addEventListener("scroll",this.trackScrolling)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("scroll",this.trackScrolling)}},{key:"render",value:function(){var e=this,t=this.state,n=t.addOrEdit,r=t.editChild,o=t.deleting,i=t.selectedRows,c=this.createDataTable();return Object(je.jsxs)(a.Fragment,{children:[Object(je.jsx)(He,{heading:"Typical Children",sub_links:[{name:"Home",link:"/"}],current:"Typical Children",state:null}),Object(je.jsxs)("div",{className:"container",children:[Object(je.jsxs)("div",{className:Te.a.search_container,children:[Object(je.jsx)(xt,{change:function(t){return e.onSearchValChange(t)}}),Object(je.jsx)("button",{className:Te.a.addbtn,onClick:this.addChildHandler,children:"New Child"})]}),this.state.loading?Object(je.jsx)("div",{className:Te.a.loading_div,children:Object(je.jsx)(vt,{})}):Object(je.jsx)(a.Fragment,{children:0===this.props.children.length?Object(je.jsxs)("div",{className:"".concat(Te.a.empty_table),children:[Object(je.jsx)("img",{src:tt,alt:"No records"}),Object(je.jsx)("h6",{children:"There are no records available"})]}):Object(je.jsxs)("div",{id:"typical_children_table",className:"".concat(Te.a.table),children:[Object(je.jsxs)("div",{className:Te.a.table_info_refresh,children:[this.state.isSearching?Object(je.jsxs)("span",{children:["Showing ",this.props.children.length," records"]}):Object(je.jsxs)("span",{children:["Showing ",this.props.children.length," out of"," ",this.state.count," records"]}),Object(je.jsx)("button",{onClick:this.fetchChildren.bind(this,!0,!1),children:Object(je.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[Object(je.jsx)("title",{children:"Refresh"}),Object(je.jsx)("path",{d:"M12 18v-3l3.984 3.984-3.984 4.031v-3q-3.281 0-5.648-2.367t-2.367-5.648q0-2.344 1.266-4.266l1.453 1.453q-0.703 1.266-0.703 2.813 0 2.484 1.758 4.242t4.242 1.758zM12 3.984q3.281 0 5.648 2.367t2.367 5.648q0 2.344-1.266 4.266l-1.453-1.453q0.703-1.266 0.703-2.813 0-2.484-1.758-4.242t-4.242-1.758v3l-3.984-3.984 3.984-4.031v3z"})]})})]}),c]})})]}),n?Object(je.jsx)(gt,{children:Object(je.jsx)(et,{close:this.closeAddingWindow,child:r})}):null,o?Object(je.jsx)(pt,{close:function(t){return e.closeDeleteConfirmPopup(t)},header:"child",many:i.length>1,type:"child",data:i}):null]})}}]),n}(a.Component),yt=Object(l.b)((function(e){return{children:e.childReducer.children}}),{getChildren:Ze,deleteVideos:lt,deleteSessions:ct,deleteChildren:Ke,setNav:me})(St),Ct=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e){var r;return Object(m.a)(this,n),(r=t.call(this,e)).trackScrolling=function(){window.innerHeight+window.scrollY>=document.body.offsetHeight-120&&(r.state.isSearching||r.fetchChildren(!1,!0))},r.fetchChildren=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=20;if(!(r.lastClick>=Date.now()-n)){r.lastClick=Date.now();var a="";e?(r.props.deleteChildren(),a="".concat(ot.BASE_URL,"/at-children/")):a=r.state.nextLink?r.state.nextLink:"".concat(ot.BASE_URL,"/at-children/"),t||r.setState({loading:!0}),Oe.a.get(a).then((function(e){var t=e.data;r.props.getChildren(t.results),r.setState({count:t.count,prevLink:t.previous,nextLink:t.next,loading:!1})})).catch((function(e){r.setState({loading:!1})}))}},r.filterChildren=function(e){r.setState({loading:!0}),Oe.a.get("".concat(ot.BASE_URL,"/at-f-children/?search=").concat(e)).then((function(e){r.setState({loading:!1}),r.props.getChildren(e.data)})).catch((function(e){}))},r.createDataTable=function(){for(var e=r.props.children,t=[{name:"CLIENT NO",selector:"clinic_no",sortable:!0},{name:"CHILD NAME",selector:"name",sortable:!0},{name:"DATE OF BIRTH",selector:"dob",sortable:!0},{name:"GENDER",selector:"gender",sortable:!0},{name:"CONSENT DOCUMENT",sortable:!1,cell:function(e){return e.cdoc?Object(je.jsx)("a",{className:Te.a.viewDocbtn,href:"http://127.0.0.1:8000".concat(e.cdoc),target:"_blank",rel:"noopener noreferrer",children:"View"}):"-"}},{name:"DATA GATHERING FORM",sortable:!1,cell:function(e){return e.dgform?Object(je.jsx)("a",{className:Te.a.viewDocbtn,href:"http://127.0.0.1:8000".concat(e.dgform),target:"_blank",rel:"noopener noreferrer",children:"View"}):"-"}},{name:"",sortable:!1,cell:function(e){return Object(je.jsxs)(a.Fragment,{children:[Object(je.jsx)("button",{className:Te.a.viewbtn,onClick:r.toChildHandler.bind(Object(Be.a)(r),e),children:Object(je.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",children:[Object(je.jsx)("title",{children:"Go to Details"}),Object(je.jsx)("path",{d:"M19.414 27.414l10-10c0.781-0.781 0.781-2.047 0-2.828l-10-10c-0.781-0.781-2.047-0.781-2.828 0s-0.781 2.047 0 2.828l6.586 6.586h-19.172c-1.105 0-2 0.895-2 2s0.895 2 2 2h19.172l-6.586 6.586c-0.39 0.39-0.586 0.902-0.586 1.414s0.195 1.024 0.586 1.414c0.781 0.781 2.047 0.781 2.828 0z"})]})}),Object(je.jsx)("button",{className:Te.a.editbtn,onClick:r.editHandler.bind(Object(Be.a)(r),e),children:Object(je.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[Object(je.jsx)("title",{children:"Edit"}),Object(je.jsx)("path",{d:"M20.719 7.031l-1.828 1.828-3.75-3.75 1.828-1.828q0.281-0.281 0.703-0.281t0.703 0.281l2.344 2.344q0.281 0.281 0.281 0.703t-0.281 0.703zM3 17.25l11.063-11.063 3.75 3.75-11.063 11.063h-3.75v-3.75z"})]})}),Object(je.jsx)("button",{className:Te.a.removebtn,onClick:r.deleteChildHandler.bind(Object(Be.a)(r),e),children:Object(je.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[Object(je.jsx)("title",{children:"Delete"}),Object(je.jsx)("path",{d:"M18.984 3.984v2.016h-13.969v-2.016h3.469l1.031-0.984h4.969l1.031 0.984h3.469zM6 18.984v-12h12v12q0 0.797-0.609 1.406t-1.406 0.609h-7.969q-0.797 0-1.406-0.609t-0.609-1.406z"})]})})]})}}],n=[],o=0;o<e.length;o++){var i={id:e[o].id,name:e[o].name,dob:e[o].dob,gender:e[o].gender,cdoc:e[o].cdoc,dgform:e[o].dgform,clinic_no:e[o].clinic_no};n.push(i)}return Object(je.jsx)(De.a,{columns:t,data:n,highlightOnHover:!0,responsive:!0,selectableRows:!0,selectableRowsHighlight:!0,pagination:!1,paginationPerPage:10,paginationRowsPerPageOptions:[10,15,20,25,30],customStyles:nt,onSelectedRowsChange:r.handleRowSelect})},r.closeAddingWindow=function(){r.setState({addOrEdit:!1,editChild:null})},r.closeDeleteConfirmPopup=function(e){e&&r.setState({selectedRows:[]}),r.setState({deleting:!1})},r.handleRowSelect=function(e){r.setState({selectedRows:e.selectedRows})},r.onSearchValChange=function(e){var t=e.target.value;r.setState({count:0,prevLink:null,nextLink:null}),r.props.deleteChildren(),""===t?(r.setState({isSearching:!1}),r.fetchChildren()):(r.setState({isSearching:!0}),r.filterChildren(t))},r.deleteChildHandler=function(e){for(var t=Object(ke.a)(r.state.selectedRows),n=!1,a=0;a<t.length;a++)t[a].id===e.id&&(n=!0);n||t.push(e),r.setState({deleting:!0,selectedRows:t})},r.toChildHandler=function(e){localStorage.setItem(N,e.id),localStorage.setItem(A,e.name),r.props.history.push({pathname:"/at_children/".concat(e.id)})},r.addChildHandler=function(){r.setState({addOrEdit:!0})},r.editHandler=function(e){r.setState({editChild:e,addOrEdit:!0})},r.state={addOrEdit:!1,editChild:null,selectedRows:[],deleting:!1,count:0,nextLink:null,prevLink:null,isSearching:!1,loading:!1},r.lastClick=0,r}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.props.deleteChildren(),this.props.deleteSessions(),this.props.deleteVideos(),localStorage.removeItem(k),this.props.setNav(de),localStorage.setItem(B,de),localStorage.setItem(E,O),this.fetchChildren(),document.addEventListener("scroll",this.trackScrolling)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("scroll",this.trackScrolling)}},{key:"render",value:function(){var e=this,t=this.state,n=t.addOrEdit,r=t.editChild,o=t.deleting,i=t.selectedRows,c=this.createDataTable();return Object(je.jsxs)(a.Fragment,{children:[Object(je.jsx)(He,{heading:"Atypical Children",sub_links:[{name:"Home",link:"/"}],current:"Atypical Children",state:null}),Object(je.jsxs)("div",{className:"container",children:[Object(je.jsxs)("div",{className:Te.a.search_container,children:[Object(je.jsx)(xt,{change:function(t){return e.onSearchValChange(t)}}),Object(je.jsx)("button",{className:"button_primary ".concat(Te.a.addbtn),onClick:this.addChildHandler,children:"New Child"})]}),this.state.loading?Object(je.jsx)("div",{className:Te.a.loading_div,children:Object(je.jsx)(vt,{})}):Object(je.jsx)(a.Fragment,{children:0===this.props.children.length?Object(je.jsxs)("div",{className:"".concat(Te.a.empty_table),children:[Object(je.jsx)("img",{src:tt,alt:"No records image"}),Object(je.jsx)("h6",{children:"There are no records available"})]}):Object(je.jsxs)("div",{id:"atypical_children_table",className:"".concat(Te.a.table),children:[Object(je.jsxs)("div",{className:Te.a.table_info_refresh,children:[this.state.isSearching?Object(je.jsxs)("span",{children:["Showing ",this.props.children.length," records"]}):Object(je.jsxs)("span",{children:["Showing ",this.props.children.length," out of"," ",this.state.count," records"]}),Object(je.jsx)("button",{onClick:this.fetchChildren.bind(this,!0,!1),children:Object(je.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[Object(je.jsx)("title",{children:"Refresh"}),Object(je.jsx)("path",{d:"M12 18v-3l3.984 3.984-3.984 4.031v-3q-3.281 0-5.648-2.367t-2.367-5.648q0-2.344 1.266-4.266l1.453 1.453q-0.703 1.266-0.703 2.813 0 2.484 1.758 4.242t4.242 1.758zM12 3.984q3.281 0 5.648 2.367t2.367 5.648q0 2.344-1.266 4.266l-1.453-1.453q0.703-1.266 0.703-2.813 0-2.484-1.758-4.242t-4.242-1.758v3l-3.984-3.984 3.984-4.031v3z"})]})})]}),c]})})]}),n?Object(je.jsx)(gt,{children:Object(je.jsx)(et,{close:this.closeAddingWindow,child:r})}):null,o?Object(je.jsx)(pt,{close:function(t){return e.closeDeleteConfirmPopup(t)},header:"child",many:i.length>1,type:"child",data:i}):null]})}}]),n}(a.Component),wt=Object(l.b)((function(e){return{children:e.childReducer.children}}),{getChildren:Ze,deleteVideos:lt,deleteSessions:ct,deleteChildren:Ke,setNav:me})(Ct),Et=n(42),Nt=n.n(Et),At=n(69),kt=Object(l.b)(null,{addSession:it,setActiveSession:st,deleteVideos:lt})((function(e){var t=Object(a.useState)(""),n=Object(At.a)(t,2),r=n[0],o=n[1],i=Object(a.useState)(!1),c=Object(At.a)(i,2),s=c[0],d=c[1],l=localStorage.getItem(E),h=localStorage.getItem(N),u=function(e,t,n,a){return null==e||""===e?(m(t,n,a),!1):(j(t,n),!0)},m=function(e,t,n){t.style.display="block",t.innerHTML=n,e.classList.add("".concat(Pe.a.errorBorder))},j=function(e,t){t.innerHTML="",t.style.display="none",e.classList.remove("".concat(Pe.a.errorBorder))};return Object(je.jsx)(ze,{close:e.close,children:Object(je.jsxs)("div",{className:Pe.a.container,style:{width:"22rem"},children:[Object(je.jsx)("h4",{children:"New Session"}),Object(je.jsxs)("form",{className:Pe.a.form,onSubmit:function(t){t.preventDefault();var n=document.getElementById("session_add_form_date"),a=document.getElementById("rDate_error");if(u(r,n,a,"Recorded date is required")){d(!0);var o="";o="".concat(ot.BASE_URL,l===f?"/add-t-session/":"/add-at-session/"),Oe()(o,{method:"POST",data:{date:r,child:h,user:null},headers:{"Content-Type":"application/json"}}).then((function(t){d(!1),e.addSession(t.data),e.setActiveSession(t.data),localStorage.setItem(k,t.data.id),e.deleteVideos(),e.close()})).catch((function(e){document.getElementById("session_add_failed").innerHTML="Session creation failed!"})),d(!1)}}.bind(undefined),children:[Object(je.jsxs)("div",{className:Pe.a.formgroup,children:[Object(je.jsx)("label",{htmlFor:"session_add_form_date",children:"Recorded Date"}),Object(je.jsx)("input",{type:"date",name:"rDate",id:"session_add_form_date",value:r,onChange:function(e){var t=document.getElementById("session_add_form_date"),n=document.getElementById("rDate_error");u(e.target.value,t,n,"Recorded date is required"),o(e.target.value)}}),Object(je.jsx)("span",{id:"rDate_error",className:Pe.a.fieldError})]}),Object(je.jsxs)("div",{className:Pe.a.formgroup_btn,children:[Object(je.jsx)("button",{type:"button",className:".button_reset ".concat(Pe.a.resetbtn),onClick:function(){o("");for(var e=document.getElementsByClassName("".concat(Pe.a.fieldError)),t=0;t<e.length;t++)e[t].innerHTML="",e[t].style.display="none";for(var n=document.getElementsByClassName("".concat(Pe.a.formgroup)),a=0;a<n.length;a++)n[a].children[1].classList.remove("".concat(Pe.a.errorBorder))},children:"Reset"}),Object(je.jsxs)("button",{type:"submit",className:".button_primary ".concat(Pe.a.submitbtn),children:[s?Object(je.jsx)(Qe,{}):null,"ADD"]})]})]}),Object(je.jsx)("span",{id:"session_add_failed",className:Pe.a.failed})]})})})),Bt=n.p+"static/media/no_videos.37962c11.svg",Mt=n(63),Dt=n.n(Mt),It=n(92),Tt=n.n(It),Lt=n(102),qt=(n(162),n(163),function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e={autoplay:!1,muted:!0,controls:!0,preload:"auto",inactivityTimeout:0,fluid:!0,playbackRates:[.5,1,1.5,2],loop:!1,sources:[{src:"http://localhost:8000"+this.props.video.video,type:this.props.video.file_type}]};this.player=Object(Lt.a)(this.videoNode,e,(function(){}))}},{key:"componentWillUnmount",value:function(){this.player&&this.player.dispose(),URL.revokeObjectURL(this.url)}},{key:"render",value:function(){var e=this;return Object(je.jsx)("div",{children:Object(je.jsx)("div",{"data-vjs-player":!0,children:Object(je.jsx)("video",{ref:function(t){return e.videoNode=t},className:"video-js vjs-theme-forest"})})})}}]),n}(a.Component)),Ht=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(je.jsx)(ze,{player:!0,close:this.props.close,children:Object(je.jsx)("div",{className:Tt.a.container,children:Object(je.jsx)(qt,{video:this.props.video})})})}}]),n}(a.Component),Rt=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).onClickHandler=function(){a.props.video.video&&a.props.playMode!==S&&a.setState({modal:!0})},a.closeModalWindow=function(){a.setState({modal:!1})},a.onMouseEnterHandler=function(){a.timeout=setTimeout((function(){a.props.video.video&&a.state.loaded&&(a.props.playMode===x&&document.getElementById(a.props.video.id+a.props.video.name).play())}),3e3)},a.onMouseLeaveHandler=function(){if(clearTimeout(a.timeout),a.props.video.video&&a.props.playMode===x){var e=document.getElementById(a.props.video.id+a.props.video.name);e.pause(),e.currentTime=0}},a.onLoadedDataHandler=function(){a.setState({loaded:!0})},a.state={modal:!1,loaded:!1},a.timeout=null,a}return Object(j.a)(n,[{key:"componentWillUnmount",value:function(){var e=document.getElementById(this.props.video.id+this.props.video.name);e&&(e.pause(),e.removeAttribute("src"),e.load(),e.remove())}},{key:"render",value:function(){return Object(je.jsxs)("div",{className:Dt.a.container,children:[Object(je.jsxs)("video",{id:this.props.video.id+this.props.video.name,className:Dt.a.player,onClick:this.onClickHandler,onMouseEnter:this.onMouseEnterHandler,onMouseLeave:this.onMouseLeaveHandler,onLoadedData:this.onLoadedDataHandler,autoPlay:!1,controls:!1,muted:!0,poster:"http://localhost:8000"+this.props.video.thumbnail,children:[Object(je.jsx)("source",{src:"http://localhost:8000"+this.props.video.video,type:this.props.video.file_type}),"Video playing error."]},this.props.key),this.state.modal?Object(je.jsx)(Ht,{video:this.props.video,close:this.closeModalWindow}):null]})}}]),n}(a.Component),Ft=Object(l.b)((function(e){return{playMode:e.videoReducer.playMode}}))(Rt),Pt=n(30),Vt=n.n(Pt),Ut=n(46),zt=n(71),Wt=n(23),Gt=n.n(Wt),Xt=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).setMax=function(){for(var e=a.props.videos,t=0,n={},r=0;r<e.length;r++)parseInt(e[r].duration)>t&&(t=parseInt(e[r].duration),n=e[r]);a.setState({totalTime:t,maxVideo:n}),a.maxVideoEl=document.getElementById(n.id+n.name),a.initializeTimeline()},a.initializeTimeline=function(){var e=Object(Be.a)(a);a.timeline=document.getElementById("control_panel_timeline"),a.timelineDrag=document.getElementById("control_panel_timeline_drag"),a.timelineHighlited=document.getElementById("control_panel_timeline_highlited"),a.maxVideoEl.ontimeupdate=function(){if(e.props.playMode===S){var t=(this.currentTime/this.duration*(e.timeline.offsetWidth-10)).toFixed(4);Ut.a.set(e.timelineDrag,{x:t}),e.timelineHighlited.style.width="".concat(t,"px"),e.setState({currentTime:this.currentTime})}},Ut.a.registerPlugin(zt.a),zt.a.create(a.timelineDrag,{type:"x",bounds:a.timeline,inertia:!0,onPress:function(e){},onDrag:function(){for(var t=e.props.videos,n=this.x/this.maxX*e.maxVideoEl.duration,a=0;a<t.length;a++){document.getElementById(t[a].id+t[a].name).currentTime=n}e.timelineHighlited.style.width="".concat(this.x,"px"),e.setState({currentTime:n})},onRelease:function(e){e.preventDefault()}})},a.convertSec=function(e){try{var t=new Date(null);return t.setSeconds(parseInt(e)),t.toISOString().substr(11,8)}catch(n){return"00:00:00"}},a.playAll=function(){a.props.tooglePlayMode(S);for(var e=a.props.videos,t=0;t<e.length;t++){var n=document.getElementById(e[t].id+e[t].name);n.currentTime<n.duration&&n.play()}a.setState({playState:y})},a.pauseAll=function(){a.props.tooglePlayMode(S);for(var e=a.props.videos,t=0;t<e.length;t++){document.getElementById(e[t].id+e[t].name).pause()}a.setState({playState:C})},a.stopAll=function(){a.props.tooglePlayMode(x);for(var e=a.props.videos,t=0;t<e.length;t++){var n=document.getElementById(e[t].id+e[t].name);n.pause(),n.currentTime=0}Ut.a.set(a.timelineDrag,{x:0}),a.timelineHighlited.style.width="".concat(0,"px"),a.setState({playState:w,currentTime:0})},a.backwardForwardAll=function(e){a.props.tooglePlayMode(S);var t=a.props.videos,n=a.state.currentTime;0===e?n-=5:n+=5;for(var r=0;r<t.length;r++){document.getElementById(t[r].id+t[r].name).currentTime=n}a.setState({currentTime:n})},a.timelineClicked=function(e){for(var t=a.props.videos,n=e.clientX-a.timeline.offsetLeft,r=n*a.maxVideoEl.duration/a.timeline.offsetWidth,o=0;o<t.length;o++){document.getElementById(t[o].id+t[o].name).currentTime=r}a.maxVideoEl.paused&&Ut.a.set(a.timelineDrag,{x:n.toFixed(4)}),a.timelineHighlited.style.width="".concat(n,"px"),a.setState({currentTime:r})},a.timelineMouseMove=function(e){var t=document.getElementById("control_panel_tooltip"),n=(e.clientX-a.timeline.offsetLeft)*a.maxVideoEl.duration/a.timeline.offsetWidth;a.setState({currentTooltipTime:n});var r=0;r=e.clientX-a.timeline.offsetLeft<=25?0:e.clientX-a.timeline.offsetLeft>=a.timeline.offsetWidth-25?a.timeline.offsetWidth-52:(e.clientX-a.timeline.offsetLeft-25).toFixed(4),Ut.a.set(t,{x:r}),t.classList.add("".concat(Gt.a.show))},a.timelineMouseLeave=function(e){var t=document.getElementById("control_panel_tooltip");Ut.a.set(t,{x:0}),t.classList.remove("".concat(Gt.a.show))},a.state={currentTime:0,totalTime:0,playState:w,videoLoadCount:0,currentTooltipTime:0},a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.setMax()}},{key:"componentWillUnmount",value:function(){this.props.tooglePlayMode(x)}},{key:"render",value:function(){return Object(je.jsxs)("div",{className:Gt.a.controlPanel,children:[Object(je.jsxs)("div",{id:"control_panel_timeline",className:Gt.a.timeline,onClick:this.timelineClicked,onMouseMove:this.timelineMouseMove,onMouseLeave:this.timelineMouseLeave,children:[Object(je.jsx)("div",{className:Gt.a.timeline_background}),Object(je.jsx)("div",{id:"control_panel_timeline_highlited",className:Gt.a.timeline_highlighted}),Object(je.jsx)("div",{id:"control_panel_timeline_drag",className:Gt.a.timeline_drag}),Object(je.jsxs)("div",{id:"control_panel_tooltip",className:Gt.a.tooltip,children:[Object(je.jsx)("span",{children:this.convertSec(this.state.currentTooltipTime)}),Object(je.jsx)("i",{})]})]}),Object(je.jsxs)("div",{className:Gt.a.controlers,children:[Object(je.jsx)("span",{className:Gt.a.currentTime,children:this.convertSec(this.state.currentTime)}),Object(je.jsx)("button",{onClick:this.backwardForwardAll.bind(this,0),className:Gt.a.backwardBtn,children:Object(je.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"28",viewBox:"0 0 16 28",children:[Object(je.jsx)("title",{children:"Backward 5s"}),Object(je.jsx)("path",{d:"M15.297 2.203c0.391-0.391 0.703-0.25 0.703 0.297v23c0 0.547-0.313 0.688-0.703 0.297l-11.094-11.094c-0.094-0.094-0.156-0.187-0.203-0.297v10.594c0 0.547-0.453 1-1 1h-2c-0.547 0-1-0.453-1-1v-22c0-0.547 0.453-1 1-1h2c0.547 0 1 0.453 1 1v10.594c0.047-0.109 0.109-0.203 0.203-0.297z"})]})}),this.state.playState===C||this.state.playState===w?Object(je.jsx)("button",{onClick:this.playAll,className:Gt.a.playBtn,children:Object(je.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[Object(je.jsx)("title",{children:"Play"}),Object(je.jsx)("path",{d:"M12 20.016q3.281 0 5.648-2.367t2.367-5.648-2.367-5.648-5.648-2.367-5.648 2.367-2.367 5.648 2.367 5.648 5.648 2.367zM12 2.016q4.125 0 7.055 2.93t2.93 7.055-2.93 7.055-7.055 2.93-7.055-2.93-2.93-7.055 2.93-7.055 7.055-2.93zM9.984 16.5v-9l6 4.5z"})]})}):null,this.state.playState===y?Object(je.jsx)("button",{onClick:this.pauseAll,className:Gt.a.pauseBtn,children:Object(je.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[Object(je.jsx)("title",{children:"Pause"}),Object(je.jsx)("path",{d:"M12.984 15.984v-7.969h2.016v7.969h-2.016zM12 20.016q3.281 0 5.648-2.367t2.367-5.648-2.367-5.648-5.648-2.367-5.648 2.367-2.367 5.648 2.367 5.648 5.648 2.367zM12 2.016q4.125 0 7.055 2.93t2.93 7.055-2.93 7.055-7.055 2.93-7.055-2.93-2.93-7.055 2.93-7.055 7.055-2.93zM9 15.984v-7.969h2.016v7.969h-2.016z"})]})}):null,Object(je.jsx)("button",{onClick:this.stopAll,className:Gt.a.stopBtn,children:Object(je.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[Object(je.jsx)("title",{children:"Stop"}),Object(je.jsx)("path",{d:"M6 6h12v12h-12v-12z"})]})}),Object(je.jsx)("button",{onClick:this.backwardForwardAll.bind(this,1),className:Gt.a.forwardBtn,children:Object(je.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"28",viewBox:"0 0 16 28",children:[Object(je.jsx)("title",{children:"Forward 5s"}),Object(je.jsx)("path",{d:"M0.703 25.797c-0.391 0.391-0.703 0.25-0.703-0.297v-23c0-0.547 0.313-0.688 0.703-0.297l11.094 11.094c0.094 0.094 0.156 0.187 0.203 0.297v-10.594c0-0.547 0.453-1 1-1h2c0.547 0 1 0.453 1 1v22c0 0.547-0.453 1-1 1h-2c-0.547 0-1-0.453-1-1v-10.594c-0.047 0.109-0.109 0.203-0.203 0.297z"})]})}),Object(je.jsxs)("span",{className:Gt.a.totalTime,children:[" ",this.convertSec(this.state.totalTime)," "]})]})]})}}]),n}(a.Component),Yt=Object(l.b)((function(e){return{playMode:e.videoReducer.playMode,videos:e.videoReducer.videos}}),{tooglePlayMode:function(e){return function(t,n){t({type:K,data:e})}}})(Xt),Jt=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).getTime=function(e){var t,n=e.slice(0,10),a=parseInt(e.slice(11,13)),r=parseInt(e.slice(14,16));return a<12?t="AM":(t="PM",a-=12),a=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),r=r.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),"".concat(n,"  ").concat(a,":").concat(r," ").concat(t)},a.closeDeleteConfirmPopup=function(e){a.setState({deleting:!1})},a.deleteSessionHandler=function(){a.setState({deleting:!0})},a.editSessionHandler=function(){var e="",t=localStorage.getItem(N),n=localStorage.getItem(k);e=localStorage.getItem(E)===f?"/t_children/".concat(t,"/").concat(n):"/at_children/".concat(t,"/").concat(n),a.props.history.push({pathname:e})},a.state={addSession:!1,deleting:!1},a}return Object(j.a)(n,[{key:"render",value:function(){var e=this,t=this.props.videos,n=[];if(t)for(var a=0;a<4;a++)t[a]?n.push(t[a]):n.push(null);else t=[];return Object(je.jsxs)("div",{className:Vt.a.container,children:[Object(je.jsxs)("div",{className:Vt.a.container_1,children:[this.props.activeSession?Object(je.jsx)("span",{className:Vt.a.date,children:this.props.activeSession.date}):Object(je.jsx)("span",{className:Vt.a.date,children:"No date & time mentioned"}),Object(je.jsxs)("div",{className:Vt.a.container_1_btns,children:[Object(je.jsx)("button",{className:Vt.a.editbtn,onClick:this.editSessionHandler.bind(this),children:"Edit"}),Object(je.jsx)("button",{className:Vt.a.removebtn,onClick:this.deleteSessionHandler.bind(this,localStorage.getItem(k)),children:"Delete"})]})]}),t.length>0?Object(je.jsxs)("div",{id:"videoPlayContent",className:Vt.a.videoPlayContent,children:[Object(je.jsx)("div",{className:Vt.a.players,children:n.map((function(t,n){return Object(je.jsx)("div",{className:Vt.a.player,children:t?Object(je.jsx)(gt,{children:Object(je.jsx)(Ft,{video:t},Math.random())}):Object(je.jsx)("div",{className:Vt.a.empty_video,onClick:e.editSessionHandler.bind(e),children:Object(je.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"28",viewBox:"0 0 24 28",children:[Object(je.jsx)("title",{children:"Add Video"}),Object(je.jsx)("path",{d:"M12 2c6.625 0 12 5.375 12 12s-5.375 12-12 12-12-5.375-12-12 5.375-12 12-12zM18 14.859c0.313-0.172 0.5-0.5 0.5-0.859s-0.187-0.688-0.5-0.859l-8.5-5c-0.297-0.187-0.688-0.187-1-0.016-0.313 0.187-0.5 0.516-0.5 0.875v10c0 0.359 0.187 0.688 0.5 0.875 0.156 0.078 0.328 0.125 0.5 0.125s0.344-0.047 0.5-0.141z"})]})})},n)}))}),Object(je.jsx)(gt,{children:Object(je.jsx)(Yt,{})})]}):Object(je.jsxs)("div",{className:Vt.a.novideo,children:[Object(je.jsx)("img",{src:Bt,alt:"No Videos Image"}),Object(je.jsx)("h6",{children:"No available videos to load"}),Object(je.jsx)("button",{onClick:this.editSessionHandler.bind(this),children:"Add Videos"})]}),this.state.deleting?Object(je.jsx)(pt,{close:function(t){return e.closeDeleteConfirmPopup(t)},many:!1,header:"session",type:"session",data:localStorage.getItem(k)}):null]})}}]),n}(a.Component),Qt=Object(l.b)((function(e){return{videos:e.videoReducer.videos,activeSession:e.sessionReducer.activeSession}}))(Jt);Oe.a.defaults.xsrfCookieName="csrftoken",Oe.a.defaults.xsrfHeaderName="X-CSRFToken";var Zt=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).fetchSessions=function(){var e=localStorage.getItem(N),t="";t=localStorage.getItem(E)===f?"".concat(ot.BASE_URL,"/t-sessions/").concat(e,"/"):"".concat(ot.BASE_URL,"/at-sessions/").concat(e,"/"),Oe.a.get(t).then((function(e){e.data[0]&&(a.props.getSessions(e.data),a.props.setActiveSession(e.data[0]),localStorage.setItem(k,e.data[0].id),a.fetchVideos(e.data[0].id),a.fetchAudio(e.data[0].id))})).catch((function(e){}))},a.fetchAudio=function(e){Oe.a.get("".concat(ot.BASE_URL,"/audio/").concat(e,"/")).then((function(e){a.props.getAudio(e.data[0])})).catch((function(e){}))},a.fetchVideos=function(e){Oe.a.get("".concat(ot.BASE_URL,"/videos/").concat(e,"/")).then((function(e){a.props.getVideos(e.data)})).catch((function(e){}))},a.getTime=function(e){var t,n=e.slice(0,10),a=parseInt(e.slice(11,13)),r=parseInt(e.slice(14,16));return a<12?t="AM":(t="PM",a-=12),a=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),r=r.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),"".concat(n,"  ").concat(a,":").concat(r," ").concat(t)},a.closeAddSessionModal=function(){a.setState({adding:!1})},a.onChangeSelectHandler=function(e){a.fetchVideos(e.target.value),a.fetchAudio(e.target.value);var t=a.props.sessions.filter((function(t,n){return t.id==e.target.value}));a.props.setActiveSession(t[0]),localStorage.setItem(k,t[0].id)},a.addSessionHandler=function(){a.setState({adding:!0})},a.state={adding:!1,loadingNewBtn:!1},a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){localStorage.getItem(E)===f?(this.props.setNav(se),localStorage.setItem(B,se)):(this.props.setNav(de),localStorage.setItem(B,de)),this.fetchSessions()}},{key:"render",value:function(){var e=this.props.sessions,t=Object(je.jsx)("select",{name:"sessions",id:"session_list",onChange:this.onChangeSelectHandler,children:e.map((function(e,t){return e.date?Object(je.jsx)("option",{value:e.id,children:e.date},t):Object(je.jsx)("option",{value:e.id,children:"No date & time mentioned"},t)}))}),n=localStorage.getItem(E),a=[{name:"Home",link:"/"},{name:n===f?"Typical Children":"Atypical Children",link:n===f?"/t_children":"/at_children"}];return Object(je.jsxs)("div",{className:Nt.a.container1,children:[Object(je.jsx)(He,{heading:"Sessions",sub_links:a,current:localStorage.getItem(A),state:null}),Object(je.jsxs)("div",{className:"container ".concat(Nt.a.container2),children:[Object(je.jsxs)("div",{className:Nt.a.container2_1,children:[Object(je.jsxs)("div",{className:Nt.a.container2_1_1,children:[Object(je.jsx)("span",{children:"Select the session by recorded date:"}),t]}),Object(je.jsxs)("button",{className:"button_primary ".concat(Nt.a.addbtn),onClick:this.addSessionHandler,children:[this.state.loadingNewBtn?Object(je.jsx)(Qe,{}):null,"New Session"]})]}),e.length>0?Object(je.jsx)("div",{className:Nt.a.videoplay,children:Object(je.jsx)(gt,{children:Object(je.jsx)(Qt,{history:this.props.history})})}):Object(je.jsxs)("div",{className:Nt.a.nosession,children:[Object(je.jsx)("img",{src:tt,alt:"No Sessions Image"}),Object(je.jsx)("h6",{children:"There are no Sessions available"})]})]}),this.state.adding?Object(je.jsx)(kt,{close:this.closeAddSessionModal}):null]})}}]),n}(a.Component),Kt=Object(l.b)((function(e){return{sessions:e.sessionReducer.sessions}}),{getSessions:function(e){return function(t,n){t({type:q,data:e})}},addSession:it,getVideos:dt,deleteVideos:lt,getAudio:ht,setActiveSession:st,setNav:me})(Zt),$t=n(43),en=n.n($t),tn=n(32),nn=n.n(tn);Oe.a.defaults.xsrfCookieName="csrftoken",Oe.a.defaults.xsrfHeaderName="X-CSRFToken";var an=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e){var a;Object(m.a)(this,n),(a=t.call(this,e)).fetchCameras=function(){Oe.a.get("".concat(ot.BASE_URL,"/cameras/")).then((function(e){a.props.getCameras(e.data)})).catch((function(e){}))},a.fetchCameraAngles=function(){Oe.a.get("".concat(ot.BASE_URL,"/camera-angles/")).then((function(e){a.props.getCameraAngles(e.data)})).catch((function(e){}))},a.resetForm=function(){a.props.video;a.setState({camera:"",cameraAngle:"",description:"",video:"",name:""});for(var e=document.getElementsByClassName("".concat(Pe.a.fieldError)),t=0;t<e.length;t++)e[t].innerHTML="",e[t].style.display="none";for(var n=document.getElementsByClassName("".concat(Pe.a.formgroup)),r=0;r<n.length;r++)n[r].children[1].classList.remove("".concat(Pe.a.errorBorder));a.setState({videoFieldError:!1})},a.cancelUpload=function(){a.cancelTokenSource.cancel("Uploading cancelled!")},a.checkSelectField=function(e,t,n,r){return e&&"Select the camera.."!==e&&"Select the camera angle.."!==e?(a.removeError(t,n),!0):(a.showError(t,n,r),!1)},a.checkVideoField=function(e,t){return e&&""!==e?"video/mp4"!==e.type?(a.showError(null,t,"Video must be .mp4"),!1):(a.removeError(null,t),!0):(a.showError(null,t,"Video is required"),!1)},a.checkAllFields=function(){var e=a.state,t=e.camera,n=e.cameraAngle,r=(e.description,e.video),o=document.getElementById("video_add_form_camera"),i=document.getElementById("video_add_form_camera_error"),c=a.checkSelectField(t,o,i,"Camera is required"),s=document.getElementById("video_add_form_cameraAngle"),d=document.getElementById("video_add_form_cameraAngle_error"),l=a.checkSelectField(n,s,d,"Camera angle is required"),h=document.getElementById("video_add_form_video_error"),u=a.checkVideoField(r,h,"Video must be .mp4");return u?a.setState({videoFieldError:!1}):a.setState({videoFieldError:!0}),!!(c&&l&&u)},a.showError=function(e,t,n){t.style.display="block",t.innerHTML=n,e&&e.classList.add("".concat(Pe.a.errorBorder))},a.removeError=function(e,t){t.innerHTML="",t.style.display="none",e&&e.classList.remove("".concat(Pe.a.errorBorder))},a.showFailed=function(e){var t=document.getElementById("video_add_failed");t&&(t.innerHTML=e)},a.getDurationThumnail=function(e){return new Promise((function(t,n){var r=Object(Be.a)(a),o=document.createElement("video");o.setAttribute("src",URL.createObjectURL(e)),o.load(),o.addEventListener("error",(function(e){n("error when loading video file",e)})),o.addEventListener("loadedmetadata",(function(){o.duration<20?n("video is too short."):(setTimeout((function(){o.currentTime=20}),200),o.addEventListener("seeked",(function(){var e=document.createElement("canvas");e.width=o.videoWidth,e.height=o.videoHeight;var n=e.getContext("2d");n.drawImage(o,0,0,e.width,e.height),n.canvas.toBlob((function(e){var n="thumbnail_".concat(r.state.camera,"_").concat(r.state.cameraAngle,".jpg"),a={file:new File([e],n,{type:"image/jpeg",lastModified:(new Date).getTime()}),filename:n,duration:Math.round(o.duration)};t(a)}),"image/jpeg",.75)})))}))}))},a.upload=function(){var e=Object(ve.a)(_e.a.mark((function e(t){var n;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({loading:!0,progressBar:!0}),n="",n=localStorage.getItem(E)===f?"".concat(ot.BASE_URL,"/add-t-video/"):"".concat(ot.BASE_URL,"/add-at-video/"),Oe()(n,{method:"POST",data:t,headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){a.setState({progress:Math.round(100*e.loaded/e.total)})},cancelToken:a.cancelTokenSource.token}).then((function(e){a.props.addVideo(e.data),a.setState({loading:!1,progressBar:!1}),setTimeout((function(){a.props.close()}),3e3)})).catch((function(e){Oe.a.isCancel(e)?a.showFailed("Uploading cancelled!"):a.showFailed("Uploading failed!"),a.setState({loading:!1})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onSubmit=function(){var e=Object(ve.a)(_e.a.mark((function e(t){var n,r,o,i,c,s,d,l,h;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=a.state,r=n.name,o=n.camera,i=n.cameraAngle,c=n.description,s=n.video,a.checkAllFields()){e.next=5;break}return e.abrupt("return");case 5:return d=new FormData,l=localStorage.getItem(N),localStorage.getItem(E)===f?d.append("tChild",l):d.append("atChild",l),d.append("session",localStorage.getItem(k)),d.append("description",c),d.append("camera",o),d.append("camera_angle",i),d.append("name",r),d.append("video",s),d.append("file_type",s.type),e.prev=15,e.next=18,a.getDurationThumnail(s);case 18:h=e.sent,setTimeout((function(){d.append("duration",h.duration),d.append("thumbnail",h.file),d.append("thumbnail_name",h.filename),a.upload(d)}),200),e.next=24;break;case 22:e.prev=22,e.t0=e.catch(15);case 24:case"end":return e.stop()}}),e,null,[[15,22]])})));return function(t){return e.apply(this,arguments)}}(),a.onChange=function(e){switch(e.target.name){case"camera":var t=document.getElementById("video_add_form_camera"),n=document.getElementById("video_add_form_camera_error");a.checkSelectField(e.target.value,t,n,"Camera is required");break;case"cameraAngle":t=document.getElementById("video_add_form_cameraAngle"),n=document.getElementById("video_add_form_cameraAngle_error");a.checkSelectField(e.target.value,t,n,"Camera angle is required")?a.setState({videoFieldError:!1}):a.setState({videoFieldError:!0})}a.setState(Object(Re.a)({},e.target.name,e.target.value))},a.onVideoFieldChange=function(e){var t=document.getElementById("video_add_form_video_error");a.checkVideoField(e,t)?a.setState({videoFieldError:!1}):a.setState({videoFieldError:!0}),a.setState({video:e,name:e.name})},a.state={camera:"",cameraAngle:"",description:"",video:"",name:"",loading:!1,progress:0,progressBar:!1,videoFieldError:!1};var r=Oe.a.CancelToken;return a.cancelTokenSource=r.source(),a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.fetchCameras(),this.fetchCameraAngles()}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this.state,t=(e.camera,e.cameraAngle,e.description,e.video),n=e.name,r=e.loading,o=e.progress,i=this.props,c=i.cameras,s=i.cameraAngles;return Object(je.jsx)(ze,{close:this.props.close,children:Object(je.jsxs)("div",{className:Pe.a.container,style:{width:"32rem"},children:[Object(je.jsx)("h4",{children:"New Video"}),Object(je.jsxs)("form",{className:Pe.a.form,onSubmit:this.onSubmit.bind(this),children:[Object(je.jsxs)("div",{className:Pe.a.formgroup,children:[Object(je.jsx)("label",{htmlFor:"video_add_form_camera",children:"CAMERA"}),c.length>0?Object(je.jsx)(a.Fragment,{children:Object(je.jsxs)("select",{name:"camera",id:"video_add_form_camera",onChange:this.onChange,children:[Object(je.jsx)("option",{defaultChecked:!0,children:"Select the camera.."}),c.map((function(e,t){return Object(je.jsx)("option",{value:e.id,children:e.name},t)}))]})}):Object(je.jsx)("select",{}),Object(je.jsx)("span",{id:"video_add_form_camera_error",className:Pe.a.fieldError})]}),Object(je.jsxs)("div",{className:Pe.a.formgroup,children:[Object(je.jsx)("label",{htmlFor:"video_add_form_cameraAngle",children:"CAMERA ANGLE"}),s.length>0?Object(je.jsx)(a.Fragment,{children:Object(je.jsxs)("select",{name:"cameraAngle",id:"video_add_form_cameraAngle",onChange:this.onChange,children:[Object(je.jsx)("option",{value:null,defaultChecked:!0,children:"Select the camera angle.."}),s.map((function(e,t){return Object(je.jsx)("option",{value:e.id,children:e.name},t)}))]})}):Object(je.jsx)("select",{}),Object(je.jsx)("span",{id:"video_add_form_cameraAngle_error",className:Pe.a.fieldError})]}),Object(je.jsxs)("div",{className:Pe.a.formgroup,children:[Object(je.jsx)("label",{htmlFor:"video_add_form_description",children:"DESCRIPTION"}),Object(je.jsx)("textarea",{name:"description",id:"video_add_form_description",rows:4,onChange:this.onChange})]}),Object(je.jsxs)("div",{className:Pe.a.formgroup2,children:[Object(je.jsx)("label",{children:"Video"}),Object(je.jsx)(Xe,{id:"video_add_form_video",file:t,filename:n,onChange:this.onVideoFieldChange,error:this.state.videoFieldError}),Object(je.jsx)("span",{id:"video_add_form_video_error",className:Pe.a.fieldError})]}),this.state.progressBar?Object(je.jsxs)("div",{className:Pe.a.progress,children:[Object(je.jsx)("div",{className:Pe.a.progress_1,children:Object(je.jsxs)("span",{children:["Uploading.. ",o,"%"]})}),Object(je.jsxs)("div",{className:Pe.a.progress_2,children:[Object(je.jsx)("div",{className:"progress ".concat(Pe.a.progressBar),children:Object(je.jsx)("div",{className:"progress-bar",role:"progressbar",style:{width:"".concat(o,"%"),background:"rgb(0, 156, 234)"},"aria-valuenow":o,"aria-valuemin":"0","aria-valuemax":"100"})}),Object(je.jsx)("div",{className:Pe.a.cancelBtn,children:Object(je.jsx)("button",{onClick:this.cancelUpload,children:Object(je.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[Object(je.jsx)("title",{children:"Cancel"}),Object(je.jsx)("path",{d:"M18.984 6.422l-5.578 5.578 5.578 5.578-1.406 1.406-5.578-5.578-5.578 5.578-1.406-1.406 5.578-5.578-5.578-5.578 1.406-1.406 5.578 5.578 5.578-5.578z"})]})})})]})]}):null,Object(je.jsx)("div",{className:"".concat(Pe.a.result_div),children:Object(je.jsx)("span",{id:"videoaddedit_final_res"})}),Object(je.jsxs)("div",{className:Pe.a.formgroup3,children:[Object(je.jsx)("button",{type:"button",className:".button_reset ".concat(Pe.a.resetbtn),onClick:this.resetForm,children:"Reset"}),Object(je.jsxs)("button",{type:"submit",className:".button_primary ".concat(Pe.a.submitbtn),children:[r?Object(je.jsx)(Qe,{}):null,"ADD"]})]})]}),Object(je.jsx)("span",{id:"video_add_failed",className:Pe.a.failed})]})})}}]),n}(a.Component),rn=Object(l.b)((function(e){return{activeChild:e.childReducer.activeChild,childType:e.childReducer.childType,activeSession:e.sessionReducer.activeSession,cameras:e.cameraReducer.cameras,cameraAngles:e.cameraAngleReducer.cameraAngles}}),{getCameras:ut,getCameraAngles:mt,addVideo:function(e){return function(t,n){t({type:G,data:e})}}})(an),on=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).closeAddWindow=function(){a.setState({adding:!1})},a.closeDeleteConfirmPopup=function(e){a.setState({deleting:!1})},a.convertSec=function(e){try{var t=new Date(null);return t.setSeconds(parseInt(e)),t.toISOString().substr(11,8)}catch(n){return"00:00:00"}},a.addHandler=function(){a.setState({adding:!0})},a.deleteHandler=function(e){a.setState({deleting:!0})},a.openVideoModal=function(){a.setState({videoModal:!0})},a.closeVideoModal=function(){a.setState({videoModal:!1})},a.state={adding:!1,deleting:!1,videoModal:!1},a}return Object(j.a)(n,[{key:"render",value:function(){var e,t=this,n=this.state,a=n.adding,r=n.deleting,o=this.props.video;return e=o?Object(je.jsxs)("div",{className:nn.a.card_content,children:[Object(je.jsx)("div",{className:nn.a.videoplay,onClick:this.openVideoModal,children:Object(je.jsx)("figure",{children:Object(je.jsx)("img",{src:"http://localhost:8000"+o.thumbnail,alt:"video thumbnail"})})}),Object(je.jsxs)("div",{className:nn.a.info,children:[Object(je.jsxs)("div",{className:nn.a.info_1,children:[Object(je.jsxs)("span",{className:nn.a.info_1_1,children:["Duration: ",o.duration?this.convertSec(o.duration):0]}),Object(je.jsxs)("span",{className:nn.a.info_1_2,children:["Camera: ",o.camera_name]}),Object(je.jsxs)("span",{className:nn.a.info_1_2,children:["Camera angle: ",o.camera_angle_name]})]}),Object(je.jsx)("div",{className:nn.a.info_2,children:Object(je.jsx)("button",{onClick:this.deleteHandler.bind(this,o),className:nn.a.removebtn,children:"Delete"})})]})]}):Object(je.jsx)("div",{className:nn.a.empty,children:Object(je.jsx)("button",{onClick:this.addHandler,children:Object(je.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[Object(je.jsx)("title",{children:"Add Video"}),Object(je.jsx)("path",{d:"M8.016 13.031l3.984-4.031 3.984 4.031-1.406 1.406-1.594-1.594v4.172h-1.969v-4.172l-1.594 1.594zM20.016 18v-9.984h-16.031v9.984h16.031zM20.016 6q0.797 0 1.383 0.609t0.586 1.406v9.984q0 0.797-0.586 1.406t-1.383 0.609h-16.031q-0.797 0-1.383-0.609t-0.586-1.406v-12q0-0.797 0.586-1.406t1.383-0.609h6l2.016 2.016h8.016z"})]})})}),Object(je.jsxs)("div",{className:nn.a.container,children:[e,a?Object(je.jsx)(gt,{children:Object(je.jsx)(rn,{close:this.closeAddWindow})}):null,r?Object(je.jsx)(pt,{close:function(e){return t.closeDeleteConfirmPopup(e)},many:!1,type:"video",header:"video",data:o?o.id:null}):null,this.state.videoModal?Object(je.jsx)(Ht,{close:this.closeVideoModal,video:o}):null]})}}]),n}(a.Component),cn=n(36),sn=n.n(cn);Oe.a.defaults.xsrfCookieName="csrftoken",Oe.a.defaults.xsrfHeaderName="X-CSRFToken";var dn=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e){var a;Object(m.a)(this,n),(a=t.call(this,e)).checkFieldEmpty=function(e,t,n){return null==e||""===e?(a.showError(t,n),!1):(a.removeError(t),!0)},a.checkAudioType=function(e,t,n){if(e)return"audio/mp3"!==e.type.toLowerCase()&&"audio/mpeg"!==e.type.toLowerCase()?(a.showError(t,n),!1):(a.removeError(t),!0)},a.showError=function(e,t){e.style.display="block",e.innerHTML=t},a.removeError=function(e){e.innerHTML="",e.style.display="none"},a.showFailed=function(e){document.getElementById("audio_add_edit_failed").innerHTML=e},a.getDuration=function(e){var t,n=document.getElementById("audioEl"),r=URL.createObjectURL(e);n.setAttribute("src",r),n.addEventListener("canplaythrough",(function(e){t=Math.round(e.currentTarget.duration),URL.revokeObjectURL(r)})),setTimeout((function(){a.setState({duration:t})}),100)},a.cancelUpload=function(){a.cancelTokenSource.cancel("Uploading cancelled!")},a.onSubmitHandler=function(e){e.preventDefault();var t,n=a.state,r=(n.id,n.name),o=n.audio,i=(n.file_extension,n.file_type,n.duration,document.getElementById("audio_add_form_audio_error")),c=!1;if((t=a.checkFieldEmpty(o,i,"Audio file is required"))&&(c=a.checkAudioType(o,i,"Invalid audio format")),t&&c){a.setState({loading:!0,progressBar:!0});var s="";s=a.childType===f?"".concat(ot.BASE_URL,"/add-t-audio/"):"".concat(ot.BASE_URL,"/add-at-audio/");var d=new FormData;a.childType===f?d.append("tChild",a.activeChild):d.append("atChild",a.activeChild),d.append("session",a.activeSession),d.append("name",r),d.append("audio",o),d.append("file_type",o.type),a.getDuration(o),setTimeout((function(){d.append("duration",a.state.duration),Oe()(s,{method:"POST",data:d,headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){a.setState({progress:Math.round(100*e.loaded/e.total)})},cancelToken:a.cancelTokenSource.token}).then((function(e){a.props.addAudio(e.data),a.setState({loading:!1,progressBar:!1}),a.props.close()})).catch((function(e){Oe.a.isCancel(e)?a.showFailed("Uploading cancelled!"):a.showFailed("Uploading failed!"),a.setState({loading:!1})}))}),200)}else a.setState({audioFieldError:!0})},a.onAudioChangeHandler=function(e){var t=document.getElementById("audio_add_form_audio_error");a.checkFieldEmpty(e,t,"Audio file is required")?a.checkAudioType(e,t,"Invalid audio format")?a.setState({audioFieldError:!1}):a.setState({audioFieldError:!0}):a.setState({audioFieldError:!0});a.setState({audio:e,name:e.name})},a.resetFormHandler=function(){a.setState({name:"",audio:"",file_type:"",file_extension:"",duration:"",audioFieldError:!1});for(var e=document.getElementsByClassName("".concat(Pe.a.fieldError)),t=0;t<e.length;t++)e[t].innerHTML="",e[t].style.display="none"},a.state={id:"",name:"",audio:"",file_type:"",file_extension:"",duration:0,loading:!1,progress:0,progressBar:!1,audioFieldError:!1};var r=Oe.a.CancelToken;return a.cancelTokenSource=r.source(),a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.childType=localStorage.getItem(E),this.activeChild=localStorage.getItem(N),this.activeSession=localStorage.getItem(k)}},{key:"render",value:function(){var e=this.state,t=e.name,n=e.audio,a=e.loading,r=e.progress;return Object(je.jsxs)(ze,{close:this.props.close,children:[Object(je.jsxs)("div",{className:Pe.a.container,style:{width:"30rem"},children:[Object(je.jsx)("h4",{children:"New Audio"}),Object(je.jsxs)("form",{className:Pe.a.form,onSubmit:this.onSubmitHandler,children:[Object(je.jsxs)("div",{className:Pe.a.formgroup,children:[Object(je.jsx)("label",{children:"AUDIO FILE"}),Object(je.jsx)(Xe,{id:"audio_add_form_audio",file:n,filename:t,onChange:this.onAudioChangeHandler,error:this.state.audioFieldError}),Object(je.jsx)("span",{id:"audio_add_form_audio_error",className:Pe.a.fieldError})]}),this.state.progressBar?Object(je.jsxs)("div",{className:Pe.a.progress,children:[Object(je.jsx)("div",{className:Pe.a.progress_1,children:Object(je.jsxs)("span",{children:["Uploading.. ",r,"%"]})}),Object(je.jsxs)("div",{className:Pe.a.progress_2,children:[Object(je.jsx)("div",{className:"progress ".concat(Pe.a.progressBar),children:Object(je.jsx)("div",{className:"progress-bar",role:"progressbar",style:{width:"".concat(r,"%"),background:"rgb(0, 156, 234)"},"aria-valuenow":r,"aria-valuemin":"0","aria-valuemax":"100"})}),Object(je.jsx)("div",{className:Pe.a.cancelBtn,children:Object(je.jsx)("button",{onClick:this.cancelUpload,children:Object(je.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[Object(je.jsx)("title",{children:"Cancel"}),Object(je.jsx)("path",{d:"M18.984 6.422l-5.578 5.578 5.578 5.578-1.406 1.406-5.578-5.578-5.578 5.578-1.406-1.406 5.578-5.578-5.578-5.578 1.406-1.406 5.578 5.578 5.578-5.578z"})]})})})]})]}):null,Object(je.jsxs)("div",{className:Pe.a.formgroup_btn,children:[Object(je.jsx)("button",{type:"button",className:".button_reset ".concat(Pe.a.resetbtn),onClick:this.resetFormHandler,children:"Reset"}),Object(je.jsxs)("button",{type:"submit",className:".button_primary ".concat(Pe.a.submitbtn),children:[a?Object(je.jsx)(Qe,{}):null,"ADD"]})]})]}),Object(je.jsx)("span",{id:"audio_add_edit_failed",className:Pe.a.failed})]}),Object(je.jsx)("audio",{controls:!0,width:"500px",id:"audioEl",style:{display:"none"}})]})}}]),n}(a.Component),ln=Object(l.b)(null,{addAudio:function(e){return function(t,n){t({type:Q,data:e})}}})(dn),hn=n(68),un=n.n(hn),mn=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(je.jsx)(ze,{player:!0,close:this.props.close,children:Object(je.jsxs)("div",{className:un.a.container,children:[Object(je.jsx)("div",{className:un.a.pic,children:Object(je.jsx)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(je.jsx)("path",{d:"M15 20.016v-8.016h-6v8.016h6zM14.859 10.031q0.469 0 0.797 0.328t0.328 0.797v9.703q0 0.469-0.328 0.797t-0.797 0.328h-5.719q-0.469 0-0.797-0.328t-0.328-0.797v-9.703q0-0.469 0.328-0.82t0.797-0.352zM12 0.984q1.875 0 4.125 0.938t3.609 2.297l-1.406 1.406q-2.625-2.625-6.328-2.625t-6.328 2.625l-1.406-1.406q3.234-3.234 7.734-3.234zM6.984 7.078q2.063-2.063 5.016-2.063t5.016 2.063l-1.453 1.406q-1.453-1.453-3.563-1.453t-3.563 1.453z"})})}),Object(je.jsxs)("audio",{controls:!0,children:[Object(je.jsx)("source",{src:"http://localhost:8000"+this.props.audio.audio,type:this.props.audio.file_type}),Object(je.jsx)("p",{children:"Your browser does not support this audio type."})]})]})})}}]),n}(a.Component),jn=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).closeAddWindow=function(){a.setState({adding:!1})},a.closeDeleteConfirmPopup=function(e){a.setState({deleting:!1})},a.convertSec=function(e){try{var t=new Date(null);return t.setSeconds(parseInt(e)),t.toISOString().substr(11,8)}catch(n){return"00:00:00"}},a.openAudioPlayer=function(){a.setState({audioPlay:!0})},a.closeAudioPlayer=function(){a.setState({audioPlay:!1})},a.addHandler=function(){a.setState({adding:!0})},a.deleteHandler=function(e){a.setState({deleting:!0})},a.state={adding:!1,deleting:!1,audioPlay:!1},a}return Object(j.a)(n,[{key:"render",value:function(){var e,t=this,n=this.state,a=n.adding,r=n.deleting,o=this.props.audio;return e=this.props.audio?Object(je.jsxs)("div",{className:sn.a.card_content,children:[Object(je.jsx)("div",{className:sn.a.audioplay,onClick:this.openAudioPlayer,children:Object(je.jsx)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(je.jsx)("path",{d:"M15 20.016v-8.016h-6v8.016h6zM14.859 10.031q0.469 0 0.797 0.328t0.328 0.797v9.703q0 0.469-0.328 0.797t-0.797 0.328h-5.719q-0.469 0-0.797-0.328t-0.328-0.797v-9.703q0-0.469 0.328-0.82t0.797-0.352zM12 0.984q1.875 0 4.125 0.938t3.609 2.297l-1.406 1.406q-2.625-2.625-6.328-2.625t-6.328 2.625l-1.406-1.406q3.234-3.234 7.734-3.234zM6.984 7.078q2.063-2.063 5.016-2.063t5.016 2.063l-1.453 1.406q-1.453-1.453-3.563-1.453t-3.563 1.453z"})})}),Object(je.jsxs)("div",{className:sn.a.info,children:[Object(je.jsx)("div",{className:sn.a.info_1,children:Object(je.jsxs)("span",{className:sn.a.info_1_1,children:["Duration: ",o?this.convertSec(o.duration):0]})}),Object(je.jsx)("div",{className:sn.a.info_2,children:Object(je.jsx)("button",{onClick:this.deleteHandler.bind(this,o),className:sn.a.removebtn,children:"Delete"})})]})]}):Object(je.jsx)("div",{className:sn.a.empty,children:Object(je.jsx)("button",{onClick:this.addHandler,children:Object(je.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[Object(je.jsx)("title",{children:"Add Audio"}),Object(je.jsx)("path",{d:"M8.016 13.031l3.984-4.031 3.984 4.031-1.406 1.406-1.594-1.594v4.172h-1.969v-4.172l-1.594 1.594zM20.016 18v-9.984h-16.031v9.984h16.031zM20.016 6q0.797 0 1.383 0.609t0.586 1.406v9.984q0 0.797-0.586 1.406t-1.383 0.609h-16.031q-0.797 0-1.383-0.609t-0.586-1.406v-12q0-0.797 0.586-1.406t1.383-0.609h6l2.016 2.016h8.016z"})]})})}),Object(je.jsxs)("div",{className:sn.a.container,children:[e,a?Object(je.jsx)(gt,{children:Object(je.jsx)(ln,{close:this.closeAddWindow})}):null,r?Object(je.jsx)(pt,{close:function(e){return t.closeDeleteConfirmPopup(e)},many:!1,type:"audio",header:"audio",data:o?o.id:null}):null,this.state.audioPlay?Object(je.jsx)(mn,{close:this.closeAudioPlayer,audio:o}):null]})}}]),n}(a.Component);Oe.a.defaults.xsrfCookieName="csrftoken",Oe.a.defaults.xsrfHeaderName="X-CSRFToken";var pn=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).getActiveSession=function(){Oe.a.get("".concat(ot.BASE_URL,"/session/").concat(localStorage.getItem(k),"/")).then((function(e){a.setState({date:e.data.date})})).catch((function(e){}))},a.fetchVideos=function(){Oe.a.get("".concat(ot.BASE_URL,"/videos/").concat(localStorage.getItem(k),"/")).then((function(e){a.props.getVideos(e.data)})).catch((function(e){}))},a.fetchAudio=function(){Oe.a.get("".concat(ot.BASE_URL,"/audio/").concat(localStorage.getItem(k),"/")).then((function(e){a.props.getAudio(e.data[0])})).catch((function(e){}))},a.onDateChangeHandler=function(e){a.setState({date:e.target.value}),""!==e.target.value&&Oe()("http://localhost:8000/api/update-session/".concat(localStorage.getItem(k),"/"),{method:"PUT",data:{date:e.target.value},headers:{"Content-Type":"application/json"}}).then((function(e){a.props.updateActiveSession(e.data)})).catch((function(e){}))},a.state={date:"",uploadedVideoCount:0,allUploaded:!1},a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){localStorage.getItem(E)===f?(this.props.setNav(se),localStorage.setItem(B,se)):(this.props.setNav(de),localStorage.setItem(B,de)),this.getActiveSession(),this.fetchVideos(),this.fetchAudio()}},{key:"render",value:function(){for(var e=this.props,t=e.videos,n=(e.audio,localStorage.getItem(E)),a=localStorage.getItem(N),r=localStorage.getItem(A),o=[{name:"Home",link:"/"},{name:n==f?"Typical Children":"Atypical Children",link:n==f?"/t_children":"/at_children"},{name:r,link:n===f?"/t_children/".concat(a):"/at_children/".concat(a)}],i=[],c=0;c<t.length;c++){var s=Object(je.jsx)(gt,{children:Object(je.jsx)(on,{video:t[c]?t[c]:null})});i.push(s)}if(t.length<4){var d=Object(je.jsx)(on,{video:null});i.push(d)}return Object(je.jsxs)("div",{className:en.a.container1,children:[Object(je.jsx)(He,{heading:"Session Details",sub_links:o,current:"Session Details",state:null}),Object(je.jsxs)("div",{className:"container ".concat(en.a.container2),children:[Object(je.jsxs)("form",{className:en.a.form,children:[Object(je.jsxs)("div",{children:[Object(je.jsx)("label",{children:"Recorded Date:"}),Object(je.jsx)("input",{type:"date",name:"recorded_date",value:this.state.date,onChange:this.onDateChangeHandler})]}),this.state.date.length<=0?Object(je.jsx)("span",{children:"You must insert the recorded date!"}):null]}),Object(je.jsx)("h2",{children:"Session Videos"}),Object(je.jsx)("div",{className:en.a.videoCards,children:i.map((function(e,t){return Object(je.jsx)("div",{className:en.a.videoCard,children:e},t)}))}),Object(je.jsx)("h2",{className:en.a.audioHead,children:"Session Audio"}),Object(je.jsx)("div",{className:en.a.audioCard,children:Object(je.jsx)(gt,{children:Object(je.jsx)(jn,{audio:this.props.audio})})})]})]})}}]),n}(a.Component),gn=Object(l.b)((function(e){return{videos:e.videoReducer.videos,audio:e.audioReducer.audio}}),{updateSession:function(e){return function(t,n){console.log(e),t({type:R,data:e})}},updateActiveSession:function(e){return function(t,n){t({type:z,data:e})}},getVideos:dt,getAudio:ht,setNav:me})(pn);Oe.a.defaults.xsrfCookieName="csrftoken",Oe.a.defaults.xsrfHeaderName="X-CSRFToken";var bn=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).checkFieldEmpty=function(e,t,n,r){return null==e||""===e?(a.showError(t,n,r),!1):(a.removeError(t,n),!0)},a.checkAllFields=function(e){var t=document.getElementById("camera_add_form_name"),n=document.getElementById("camera_add_form_name_error");return!!a.checkFieldEmpty(e,t,n,"Camera name is required")},a.showError=function(e,t,n){t.style.display="block",t.innerHTML=n,e&&e.classList.add("".concat(Pe.a.errorBorder))},a.removeError=function(e,t){t.innerHTML="",t.style.display="none",e&&e.classList.remove("".concat(Pe.a.errorBorder))},a.showFailed=function(e){document.getElementById("camera_add_failed").innerHTML=e},a.onChangeHandler=function(e){switch(e.target.name){case"name":var t=document.getElementById("camera_add_form_name"),n=document.getElementById("camera_add_form_name_error");a.checkFieldEmpty(e.target.value,t,n,"Camera name is required")}a.setState(Object(Re.a)({},e.target.name,e.target.value))},a.onSubmitHandler=function(e){e.preventDefault();var t=a.state,n=t.name,r=t.resolution,o=t.megapixels;if(a.checkAllFields(n)){var i=new FormData;i.append("name",n),i.append("resolution",r),i.append("megapixels",o),a.setState({requesting:!0}),Oe()("".concat(ot.BASE_URL,"/add-camera/"),{method:"POST",data:i,headers:{"Content-Type":"application/json"}}).then((function(e){a.setState({requesting:!1}),a.props.addCamera(e.data),a.props.close()})).catch((function(e){a.setState({requesting:!1}),a.showFailed("Camera adding failed!")}))}},a.resetFormHandler=function(){a.setState({name:"",resolution:"",megapixels:""});for(var e=document.getElementsByClassName("".concat(Pe.a.fieldError)),t=0;t<e.length;t++)e[t].innerHTML="",e[t].style.display="none";for(var n=document.getElementsByClassName("".concat(Pe.a.formgroup)),r=0;r<n.length;r++)n[r].children[1].classList.remove("".concat(Pe.a.errorBorder))},a.state={name:"",resolution:"",megapixels:"",requesting:!1},a}return Object(j.a)(n,[{key:"render",value:function(){var e=this.state,t=e.name,n=e.resolution,a=e.megapixels,r=e.requesting;return Object(je.jsx)(ze,{close:this.props.close,children:Object(je.jsxs)("div",{className:Pe.a.container,style:{width:"26rem"},children:[Object(je.jsx)("h4",{children:"New Camera"}),Object(je.jsxs)("form",{className:Pe.a.form,onSubmit:this.onSubmitHandler,children:[Object(je.jsxs)("div",{className:Pe.a.formgroup,children:[Object(je.jsx)("label",{htmlFor:"camera_add_form_name",children:"NAME"}),Object(je.jsx)("input",{type:"text",name:"name",id:"camera_add_form_name",value:t,onChange:this.onChangeHandler}),Object(je.jsx)("span",{id:"camera_add_form_name_error",className:Pe.a.fieldError})]}),Object(je.jsxs)("div",{className:Pe.a.formgroup,children:[Object(je.jsx)("label",{htmlFor:"camera_add_form_resolution",children:"RESOLUTION"}),Object(je.jsx)("input",{type:"text",name:"resolution",id:"camera_add_form_resolution",value:n,onChange:this.onChangeHandler}),Object(je.jsx)("span",{id:"camera_add_form_resolution_error",className:Pe.a.fieldError})]}),Object(je.jsxs)("div",{className:Pe.a.formgroup,children:[Object(je.jsx)("label",{htmlFor:"camera_add_form_megapixels",children:"MEGAPIXELS"}),Object(je.jsx)("input",{type:"text",name:"megapixels",id:"camera_add_form_megapixels",value:a,onChange:this.onChangeHandler}),Object(je.jsx)("span",{id:"camera_add_form_megapixels_error",className:Pe.a.fieldError})]}),Object(je.jsxs)("div",{className:Pe.a.formgroup_btn,children:[Object(je.jsx)("button",{type:"button",className:".button_reset ".concat(Pe.a.resetbtn),onClick:this.resetFormHandler,children:"Reset"}),Object(je.jsxs)("button",{type:"submit",className:".button_primary ".concat(Pe.a.submitbtn),children:[r?Object(je.jsx)(Qe,{}):null,"ADD"]})]})]}),Object(je.jsx)("span",{id:"camera_add_failed",className:Pe.a.failed})]})})}}]),n}(a.Component),_n=Object(l.b)(null,{addCamera:function(e){return function(t,n){t({type:ee,data:e})}}})(bn),vn=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e){var r;return Object(m.a)(this,n),(r=t.call(this,e)).fetchCameras=function(){r.setState({loading:!0}),Oe.a.get("".concat(ot.BASE_URL,"/cameras/")).then((function(e){r.props.getCameras(e.data),r.setState({loading:!1})})).catch((function(e){r.setState({loading:!1})}))},r.filterCameras=function(e){Oe.a.get("".concat(ot.BASE_URL,"/f-cameras/?search=").concat(e)).then((function(e){r.props.getCameras(e.data)})).catch((function(e){}))},r.closeAddingWindow=function(){r.setState({adding:!1})},r.closeDeleteConfirmPopup=function(e){e&&r.setState({selectedRows:[]}),r.setState({deleting:!1})},r.createDataTable=function(){for(var e=r.props.cameras,t=[{name:"Name",selector:"name",sortable:!0},{name:"Resolution",selector:"resolution",sortable:!0},{name:"Megapixels",selector:"megapixels",sortable:!0},{name:"",sortable:!1,cell:function(e){return Object(je.jsx)(a.Fragment,{children:Object(je.jsx)("button",{className:Te.a.removebtn,onClick:r.deleteCameraHandler.bind(Object(Be.a)(r),e),children:Object(je.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[Object(je.jsx)("title",{children:"Delete"}),Object(je.jsx)("path",{d:"M18.984 3.984v2.016h-13.969v-2.016h3.469l1.031-0.984h4.969l1.031 0.984h3.469zM6 18.984v-12h12v12q0 0.797-0.609 1.406t-1.406 0.609h-7.969q-0.797 0-1.406-0.609t-0.609-1.406z"})]})})})}}],n=[],o=0;o<e.length;o++){var i={id:e[o].id,name:e[o].name,resolution:e[o].resolution,megapixels:e[o].megapixels};n.push(i)}return Object(je.jsx)(De.a,{columns:t,data:n,highlightOnHover:!0,responsive:!0,selectableRows:!0,selectableRowsHighlight:!0,pagination:!1,paginationPerPage:10,paginationRowsPerPageOptions:[10,15,20,25,30],customStyles:nt,onSelectedRowsChange:r.handleRowSelect})},r.handleRowSelect=function(e){r.setState({selectedRows:e.selectedRows})},r.onSearchValChange=function(e){var t=e.target.value;r.props.deleteCameras(),""===t?(r.setState({isSearching:!1}),r.fetchCameras()):(r.setState({isSearching:!0}),r.filterCameras(t))},r.deleteCameraHandler=function(e){for(var t=Object(ke.a)(r.state.selectedRows),n=!1,a=0;a<t.length;a++)t[a].id===e.id&&(n=!0);n||t.push(e),r.setState({deleting:!0,selectedRows:t})},r.addCameraHandler=function(){r.setState({adding:!0})},r.state={adding:!1,selectedRows:[],deleting:!1,loading:!1},r}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.props.deleteCameras(),this.props.deleteSessions(),this.props.deleteVideos(),localStorage.removeItem(k),this.props.setNav(le),localStorage.setItem(B,le),this.fetchCameras()}},{key:"render",value:function(){var e=this,t=this.state,n=t.adding,r=t.deleting,o=t.selectedRows,i=this.createDataTable();return Object(je.jsxs)("div",{className:"".concat(Te.a.container1),children:[Object(je.jsx)(He,{heading:"Cameras",sub_links:[{name:"Home",link:"/"}],current:"Cameras",state:null}),Object(je.jsxs)("div",{className:"container ".concat(Te.a.container2),children:[Object(je.jsxs)("div",{className:Te.a.search_container,children:[Object(je.jsx)(xt,{change:function(t){return e.onSearchValChange(t)}}),Object(je.jsx)("button",{className:"button_primary ".concat(Te.a.addbtn),onClick:this.addCameraHandler,children:"New Camera"})]}),this.state.loading?Object(je.jsx)("div",{className:Te.a.loading_div,children:Object(je.jsx)(vt,{})}):Object(je.jsx)(a.Fragment,{children:0===this.props.cameras.length?Object(je.jsxs)("div",{className:"".concat(Te.a.empty_table),children:[Object(je.jsx)("img",{src:tt,alt:"No records image"}),Object(je.jsx)("h6",{children:"There are no records available"})]}):Object(je.jsxs)("div",{className:"".concat(Te.a.table),children:[Object(je.jsxs)("div",{className:Te.a.table_info_refresh,children:[Object(je.jsxs)("span",{children:["Showing ",this.props.cameras.length," total records"]}),Object(je.jsx)("button",{onClick:this.fetchCameras,children:Object(je.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[Object(je.jsx)("title",{children:"Refresh"}),Object(je.jsx)("path",{d:"M12 18v-3l3.984 3.984-3.984 4.031v-3q-3.281 0-5.648-2.367t-2.367-5.648q0-2.344 1.266-4.266l1.453 1.453q-0.703 1.266-0.703 2.813 0 2.484 1.758 4.242t4.242 1.758zM12 3.984q3.281 0 5.648 2.367t2.367 5.648q0 2.344-1.266 4.266l-1.453-1.453q0.703-1.266 0.703-2.813 0-2.484-1.758-4.242t-4.242-1.758v3l-3.984-3.984 3.984-4.031v3z"})]})})]}),i]})})]}),n?Object(je.jsx)(gt,{children:Object(je.jsx)(_n,{close:this.closeAddingWindow})}):null,r?Object(je.jsx)(pt,{close:function(t){return e.closeDeleteConfirmPopup(t)},header:"camera",many:o.length>1,type:"camera",data:o}):null]})}}]),n}(a.Component),fn=Object(l.b)((function(e){return{cameras:e.cameraReducer.cameras}}),{getCameras:ut,deleteVideos:lt,deleteSessions:ct,deleteCameras:function(){return function(e,t){e({type:ne})}},setNav:me})(vn);Oe.a.defaults.xsrfCookieName="csrftoken",Oe.a.defaults.xsrfHeaderName="X-CSRFToken";var On=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).checkFieldEmpty=function(e,t,n,r){return null==e||""===e?(a.showError(t,n,r),!1):(a.removeError(t,n),!0)},a.checkAllFields=function(e){var t=document.getElementById("camera_angle_add_form_name"),n=document.getElementById("camera_angle_add_form_name_error");return!!a.checkFieldEmpty(e,t,n,"Camera angle name is required")},a.showError=function(e,t,n){t.style.display="block",t.innerHTML=n,e&&e.classList.add("".concat(Pe.a.errorBorder))},a.removeError=function(e,t){t.innerHTML="",t.style.display="none",e&&e.classList.remove("".concat(Pe.a.errorBorder))},a.showFailed=function(e){document.getElementById("camera_angle_add_failed").innerHTML=e},a.onChangeHandler=function(e){switch(e.target.name){case"name":var t=document.getElementById("camera_angle_add_form_name"),n=document.getElementById("camera_angle_add_form_name_error");a.checkFieldEmpty(e.target.value,t,n,"Camera angle name is required")}a.setState(Object(Re.a)({},e.target.name,e.target.value))},a.onSubmitHandler=function(e){e.preventDefault();var t=a.state.name;if(a.checkAllFields(t)){var n=new FormData;n.append("name",t),a.setState({requesting:!0}),Oe()("".concat(ot.BASE_URL,"/add-camera-angle/"),{method:"POST",data:n,headers:{"Content-Type":"application/json"}}).then((function(e){a.setState({requesting:!1}),a.props.addCameraAngle(e.data),a.props.close()})).catch((function(e){a.setState({requesting:!1}),a.showFailed("Camera angle adding failed!")}))}},a.resetFormHandler=function(){a.setState({name:""});for(var e=document.getElementsByClassName("".concat(Pe.a.fieldError)),t=0;t<e.length;t++)e[t].innerHTML="",e[t].style.display="none";for(var n=document.getElementsByClassName("".concat(Pe.a.formgroup)),r=0;r<n.length;r++)n[r].children[1].classList.remove("".concat(Pe.a.errorBorder))},a.state={name:"",requesting:!1},a}return Object(j.a)(n,[{key:"render",value:function(){var e=this.state,t=e.name,n=e.requesting;return Object(je.jsx)(ze,{close:this.props.close,children:Object(je.jsxs)("div",{className:Pe.a.container,style:{width:"26rem"},children:[Object(je.jsx)("h4",{children:"New Camera Angle"}),Object(je.jsxs)("form",{className:Pe.a.form,onSubmit:this.onSubmitHandler,children:[Object(je.jsxs)("div",{className:Pe.a.formgroup,children:[Object(je.jsx)("label",{htmlFor:"camera_angle_add_form_name",children:"NAME"}),Object(je.jsx)("input",{type:"text",name:"name",id:"camera_angle_add_form_name",value:t,onChange:this.onChangeHandler}),Object(je.jsx)("span",{id:"camera_angle_add_form_name_error",className:Pe.a.fieldError})]}),Object(je.jsxs)("div",{className:Pe.a.formgroup_btn,children:[Object(je.jsx)("button",{type:"button",className:".button_reset ".concat(Pe.a.resetbtn),onClick:this.resetFormHandler,children:"Reset"}),Object(je.jsxs)("button",{type:"submit",className:".button_primary ".concat(Pe.a.submitbtn),children:[n?Object(je.jsx)(Qe,{}):null,"ADD"]})]})]}),Object(je.jsx)("span",{id:"camera_angle_add_failed",className:Pe.a.failed})]})})}}]),n}(a.Component),xn=Object(l.b)(null,{addCameraAngle:function(e){return function(t,n){t({type:re,data:e})}}})(On),Sn=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e){var r;return Object(m.a)(this,n),(r=t.call(this,e)).fetchCameraAngles=function(){r.setState({loading:!0}),Oe.a.get("".concat(ot.BASE_URL,"/camera-angles/")).then((function(e){r.props.getCameraAngles(e.data),r.setState({loading:!1})})).catch((function(e){r.setState({loading:!1})}))},r.filterCameraAngles=function(e){Oe.a.get("".concat(ot.BASE_URL,"/f-camera-angles/?search=").concat(e)).then((function(e){r.props.getCameraAngles(e.data)})).catch((function(e){}))},r.closeAddingWindow=function(){r.setState({adding:!1})},r.closeDeleteConfirmPopup=function(e){e&&r.setState({selectedRows:[]}),r.setState({deleting:!1})},r.createDataTable=function(){for(var e=r.props.cameraAngles,t=[{name:"Name",selector:"name",sortable:!0},{name:"",sortable:!1,cell:function(e){return Object(je.jsx)(a.Fragment,{children:Object(je.jsx)("button",{className:Te.a.removebtn,onClick:r.deleteCameraAngleHandler.bind(Object(Be.a)(r),e),children:Object(je.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[Object(je.jsx)("title",{children:"Delete"}),Object(je.jsx)("path",{d:"M18.984 3.984v2.016h-13.969v-2.016h3.469l1.031-0.984h4.969l1.031 0.984h3.469zM6 18.984v-12h12v12q0 0.797-0.609 1.406t-1.406 0.609h-7.969q-0.797 0-1.406-0.609t-0.609-1.406z"})]})})})}}],n=[],o=0;o<e.length;o++){var i={id:e[o].id,name:e[o].name};n.push(i)}return Object(je.jsx)(De.a,{columns:t,data:n,highlightOnHover:!0,responsive:!0,selectableRows:!0,selectableRowsHighlight:!0,pagination:!1,paginationPerPage:10,paginationRowsPerPageOptions:[10,15,20,25,30],customStyles:nt,onSelectedRowsChange:r.handleRowSelect})},r.handleRowSelect=function(e){r.setState({selectedRows:e.selectedRows})},r.onSearchValChange=function(e){var t=e.target.value;r.props.deleteCameraAngles(),""===t?(r.setState({isSearching:!1}),r.fetchCameraAngles()):(r.setState({isSearching:!0}),r.filterCameraAngles(t))},r.deleteCameraAngleHandler=function(e){for(var t=Object(ke.a)(r.state.selectedRows),n=!1,a=0;a<t.length;a++)t[a].id===e.id&&(n=!0);n||t.push(e),r.setState({deleting:!0,selectedRows:t})},r.addCameraAngleHandler=function(){r.setState({adding:!0})},r.state={adding:!1,selectedRows:[],deleting:!1,loading:!1},r}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.props.deleteCameraAngles(),this.props.deleteSessions(),this.props.deleteVideos(),localStorage.removeItem(k),this.props.setNav(he),localStorage.setItem(B,he),this.fetchCameraAngles()}},{key:"render",value:function(){var e=this,t=this.state,n=t.adding,r=t.deleting,o=t.selectedRows,i=this.createDataTable();return Object(je.jsxs)("div",{className:"".concat(Te.a.container1),children:[Object(je.jsx)(He,{heading:"Camera Angles",sub_links:[{name:"Home",link:"/"}],current:"Camera Angles",state:null}),Object(je.jsxs)("div",{className:"container ".concat(Te.a.container2),children:[Object(je.jsxs)("div",{className:Te.a.search_container,children:[Object(je.jsx)(xt,{change:function(t){return e.onSearchValChange(t)}}),Object(je.jsx)("button",{className:"button_primary ".concat(Te.a.addbtn),onClick:this.addCameraAngleHandler,children:"New Camera Angle"})]}),this.state.loading?Object(je.jsx)("div",{className:Te.a.loading_div,children:Object(je.jsx)(vt,{})}):Object(je.jsx)(a.Fragment,{children:0===this.props.cameraAngles.length?Object(je.jsxs)("div",{className:"".concat(Te.a.empty_table),children:[Object(je.jsx)("img",{src:tt,alt:"No records image"}),Object(je.jsx)("h6",{children:"There are no records available"})]}):Object(je.jsxs)("div",{className:"".concat(Te.a.table),children:[Object(je.jsxs)("div",{className:Te.a.table_info_refresh,children:[Object(je.jsxs)("span",{children:["Showing ",this.props.cameraAngles.length," total records"]}),Object(je.jsx)("button",{onClick:this.fetchCameraAngles,children:Object(je.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[Object(je.jsx)("title",{children:"Refresh"}),Object(je.jsx)("path",{d:"M12 18v-3l3.984 3.984-3.984 4.031v-3q-3.281 0-5.648-2.367t-2.367-5.648q0-2.344 1.266-4.266l1.453 1.453q-0.703 1.266-0.703 2.813 0 2.484 1.758 4.242t4.242 1.758zM12 3.984q3.281 0 5.648 2.367t2.367 5.648q0 2.344-1.266 4.266l-1.453-1.453q0.703-1.266 0.703-2.813 0-2.484-1.758-4.242t-4.242-1.758v3l-3.984-3.984 3.984-4.031v3z"})]})})]}),i]})})]}),n?Object(je.jsx)(gt,{children:Object(je.jsx)(xn,{close:this.closeAddingWindow})}):null,r?Object(je.jsx)(pt,{close:function(t){return e.closeDeleteConfirmPopup(t)},header:"cameraAngle",many:o.length>1,type:"cameraAngle",data:o}):null]})}}]),n}(a.Component),yn=Object(l.b)((function(e){return{cameraAngles:e.cameraAngleReducer.cameraAngles}}),{getCameraAngles:mt,deleteCameraAngles:function(){return function(e,t){e({type:ie})}},deleteSessions:ct,deleteVideos:lt,setNav:me})(Sn),Cn=n(48),wn=n(100),En=n(101),Nn={children:[]};function An(e,t){for(var n=0;n<e.length;n++)if(t.id===e[n].id)return!0;return!1}var kn={sessions:[],activeSession:{}},Bn={videos:[],playMode:x,readyPlayerCount:0},Mn={audio:null},Dn={currentNav:null},In={cameras:[]},Tn={cameraAngles:[]},Ln=Object(Cn.combineReducers)({childReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:var n=Object(ke.a)(e.children);if(n.length>0)for(var a=Object(ke.a)(t.data),r=0;r<a.length;r++)An(n,a[r])||n.push(a[r]);else n=t.data;return Object(c.a)(Object(c.a)({},e),{},{children:n});case D:var o=Object(ke.a)(e.children);return o.unshift(t.data),Object(c.a)(Object(c.a)({},e),{},{children:o});case I:var i=Object(ke.a)(e.children),s=t.data;return i.forEach((function(e,t){e.id===s.id&&(localStorage.getItem(E)===f?(e.unique_no=s.unique_no,e.sequence_no=s.sequence_no):e.clinic_no=s.clinic_no,e.name=s.name,e.dob=s.dob,e.gender=s.gender,e.cdoc=s.cdoc,e.cdoc_name=s.cdoc_name,e.dgform=s.dgform,e.dgform_name=s.dgform_name)})),Object(c.a)(Object(c.a)({},e),{},{children:i});case T:return Object(c.a)(Object(c.a)({},e),{},{children:e.children.filter((function(e){return e.id!==t.data}))});case L:return Object(c.a)(Object(c.a)({},e),{},{children:[]});default:return e}},sessionReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(c.a)(Object(c.a)({},e),{},{sessions:t.data});case H:return(o=Object(ke.a)(e.sessions)).unshift(t.data),Object(c.a)(Object(c.a)({},e),{},{sessions:o});case R:var n=Object(ke.a)(e.sessions),a=t.data;return n.forEach((function(e,t){e.id===a.id&&(e.date=a.date,e.profile=a.profile,e.user=a.user)})),Object(c.a)(Object(c.a)({},e),{},{sessions:n});case F:var r=Object(ke.a)(e.sessions);return Object(c.a)(Object(c.a)({},e),{},{sessions:r.filter((function(e){return e.id!=t.data}))});case P:return Object(c.a)(Object(c.a)({},e),{},{sessions:[]});case V:return Object(c.a)(Object(c.a)({},e),{},{activeSession:t.data});case U:var o=Object(ke.a)(e.sessions);return localStorage.setItem(k,o[0].id),Object(c.a)(Object(c.a)({},e),{},{activeSession:o[0]});case z:return Object(c.a)(Object(c.a)({},e),{},{activeSession:t.data});default:return e}},videoReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return Object(c.a)(Object(c.a)({},e),{},{videos:t.data});case G:var n=Object(ke.a)(e.videos);return n.push(t.data),Object(c.a)(Object(c.a)({},e),{},{videos:n});case X:return Object(c.a)(Object(c.a)({},e),{},{videos:e.videos.filter((function(e){return e.id!==t.data}))});case Y:return Object(c.a)(Object(c.a)({},e),{},{videos:[]});case K:return Object(c.a)(Object(c.a)({},e),{},{playMode:t.data});default:return e}},audioReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:case Q:return Object(c.a)(Object(c.a)({},e),{},{audio:t.data});case Z:return Object(c.a)(Object(c.a)({},e),{},{audio:null});default:return e}},navigationReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue:return Object(c.a)(Object(c.a)({},e),{},{currentNav:t.data});default:return e}},cameraReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return Object(c.a)(Object(c.a)({},e),{},{cameras:t.data});case ee:var n=Object(ke.a)(e.cameras);return n.unshift(t.data),Object(c.a)(Object(c.a)({},e),{},{cameras:n});case te:return Object(c.a)(Object(c.a)({},e),{},{cameras:e.cameras.filter((function(e){return e.id!==t.data}))});case ne:return Object(c.a)(Object(c.a)({},e),{},{cameras:[]});default:return e}},cameraAngleReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:return Object(c.a)(Object(c.a)({},e),{},{cameraAngles:t.data});case re:var n=Object(ke.a)(e.cameraAngles);return n.unshift(t.data),Object(c.a)(Object(c.a)({},e),{},{cameraAngles:n});case oe:return Object(c.a)(Object(c.a)({},e),{},{cameraAngles:e.cameraAngles.filter((function(e){return e.id!==t.data}))});case ie:return Object(c.a)(Object(c.a)({},e),{},{cameraAngles:[]});default:return e}}}),qn=[En.a],Hn=Object(Cn.createStore)(Ln,{},Object(wn.composeWithDevTools)(Cn.applyMiddleware.apply(void 0,qn))),Rn=function(e){return Object(je.jsx)(l.a,{store:Hn,children:Object(je.jsx)(s.a,{children:Object(je.jsxs)("div",{className:u.a.app,children:[Object(je.jsx)(ge,{}),Object(je.jsx)(ye,{}),Object(je.jsx)("main",{className:u.a.main,children:Object(je.jsxs)(d.c,{children:[Object(je.jsx)(d.a,{path:"/t_children/:child_id/:session_id",render:function(e){return Object(je.jsx)(gt,{children:Object(je.jsx)(gn,Object(c.a)({},e))})}}),Object(je.jsx)(d.a,{path:"/at_children/:child_id/:session_id",render:function(e){return Object(je.jsx)(gt,{children:Object(je.jsx)(gn,Object(c.a)({},e))})}}),Object(je.jsx)(d.a,{path:"/t_children/:child_id",render:function(e){return Object(je.jsx)(gt,{children:Object(je.jsx)(Kt,Object(c.a)({},e))})}}),Object(je.jsx)(d.a,{path:"/at_children/:child_id",render:function(e){return Object(je.jsx)(gt,{children:Object(je.jsx)(Kt,Object(c.a)({},e))})}}),Object(je.jsx)(d.a,{exact:!0,path:"/t_children",render:function(e){return Object(je.jsx)(gt,{children:Object(je.jsx)(yt,Object(c.a)({},e))})}}),Object(je.jsx)(d.a,{exact:!0,path:"/at_children",render:function(e){return Object(je.jsx)(gt,{children:Object(je.jsx)(wt,Object(c.a)({},e))})}}),Object(je.jsx)(d.a,{exact:!0,path:"/cameras",render:function(e){return Object(je.jsx)(gt,{children:Object(je.jsx)(fn,Object(c.a)({},e))})}}),Object(je.jsx)(d.a,{exact:!0,path:"/camera_angles",render:function(e){return Object(je.jsx)(gt,{children:Object(je.jsx)(yn,Object(c.a)({},e))})}}),Object(je.jsx)(d.a,{exact:!0,path:"/",render:function(e){return Object(je.jsx)(gt,{children:Object(je.jsx)(Ae,Object(c.a)({},e))})}}),Object(je.jsx)(d.a,{path:"*",children:Object(je.jsx)("div",{children:Object(je.jsx)("h1",{children:"404 Not Found"})})})]})})]})})})},Fn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,165)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),o(e),i(e)}))};i.a.render(Object(je.jsx)(r.a.StrictMode,{children:Object(je.jsx)(Rn,{})}),document.getElementById("root")),Fn()},19:function(e,t,n){e.exports={container:"Navbar_container__t0X2Z",logo:"Navbar_logo__9Pxim",logo_1:"Navbar_logo_1__drJL3",logo_1_1:"Navbar_logo_1_1__1NTQ-",logo_1_2:"Navbar_logo_1_2__3EoJa",nav:"Navbar_nav__3tc7Y",nav_li_selected:"Navbar_nav_li_selected__2--q3",nav_a_selected:"Navbar_nav_a_selected___b_Nc",copyright:"Navbar_copyright__1_7Kh",copyright_2:"Navbar_copyright_2__3767J",csaat_home:"Navbar_csaat_home__1HFYc",slicer_home:"Navbar_slicer_home__3o9BX"}},23:function(e,t,n){e.exports={controlPanel:"ControlPanel_controlPanel__tL62j",timeline:"ControlPanel_timeline__2Haqp",timeline_background:"ControlPanel_timeline_background__1vuYC",timeline_drag:"ControlPanel_timeline_drag__PHfqy",timeline_highlighted:"ControlPanel_timeline_highlighted__2iLA2",controlers:"ControlPanel_controlers__3onXg",currentTime:"ControlPanel_currentTime__268yl",totalTime:"ControlPanel_totalTime__WJXGJ",playBtn:"ControlPanel_playBtn__1VBiW",pauseBtn:"ControlPanel_pauseBtn__34GEF",stopBtn:"ControlPanel_stopBtn__1F212",backwardBtn:"ControlPanel_backwardBtn__QJNOe",forwardBtn:"ControlPanel_forwardBtn__BYuh4",tooltip:"ControlPanel_tooltip__1xbz2",show:"ControlPanel_show__2DuHS"}},3:function(e,t,n){e.exports={container:"AddModal_container__3MnKp",form:"AddModal_form__31Z49",formgroup:"AddModal_formgroup__PqN9S",formgroup2:"AddModal_formgroup2__7983R",formgroup3:"AddModal_formgroup3__3NqLF",formgroup_radio:"AddModal_formgroup_radio__2tsY2",formgroup_radio_1:"AddModal_formgroup_radio_1__2QGbj",formgroup_file:"AddModal_formgroup_file__2JS_e",formgroup_btn:"AddModal_formgroup_btn__1QnE8",resetbtn:"AddModal_resetbtn__3V--R",submitbtn:"AddModal_submitbtn__1OYQm",result_div:"AddModal_result_div__vDH_T",progress:"AddModal_progress__2vVO_",progress_1:"AddModal_progress_1__3y_8G",progress_2:"AddModal_progress_2__bzOxY",progressBar:"AddModal_progressBar__1Rx0Q",cancelBtn:"AddModal_cancelBtn__3HnPb",fieldError:"AddModal_fieldError__MUFu4",errorBorder:"AddModal_errorBorder__2yVoW",failed:"AddModal_failed__355i3"}},30:function(e,t,n){e.exports={container:"VideoPlay_container__1dm5U",container_1:"VideoPlay_container_1__324Ti",container_1_btns:"VideoPlay_container_1_btns__2rd4l",date:"VideoPlay_date__1-uqb",editbtn:"VideoPlay_editbtn__1tup3",removebtn:"VideoPlay_removebtn__1vsVP",players:"VideoPlay_players__1VvHO",player:"VideoPlay_player__3RLJO",empty_video:"VideoPlay_empty_video__1nhWk",novideo:"VideoPlay_novideo__W-YZy",loadingDiv:"VideoPlay_loadingDiv__1egWw",videoPlayContent:"VideoPlay_videoPlayContent__AUOow"}},32:function(e,t,n){e.exports={container:"SessionVideoCard_container__25qyd",card_content:"SessionVideoCard_card_content__3BDLF",videoplay:"SessionVideoCard_videoplay__3FeH7",info:"SessionVideoCard_info__10YWn",info_1:"SessionVideoCard_info_1__c8PlS",info_2:"SessionVideoCard_info_2__xBFRx",removebtn:"SessionVideoCard_removebtn__XFtx9",empty:"SessionVideoCard_empty__SCS4Y"}},35:function(e,t,n){e.exports={container:"ModalFrame_container__1ZOao",fadein:"ModalFrame_fadein__1tDW4",container_play:"ModalFrame_container_play__2XD8K",overlay:"ModalFrame_overlay__2q928",overlay_fadein:"ModalFrame_overlay_fadein__3wCQM",closebtn:"ModalFrame_closebtn__39XGt",closebtn_svg:"ModalFrame_closebtn_svg__2Z_Xr",closebtn_play_svg:"ModalFrame_closebtn_play_svg__27xIf"}},36:function(e,t,n){e.exports={container:"SessionAudioCard_container__1fBQJ",card_content:"SessionAudioCard_card_content__rVmFD",audioplay:"SessionAudioCard_audioplay__2LGMo",info:"SessionAudioCard_info__1Snid",info_1:"SessionAudioCard_info_1__2Mdg2",info_2:"SessionAudioCard_info_2__1C4j_",removebtn:"SessionAudioCard_removebtn__3FHsL",empty:"SessionAudioCard_empty__3iyqW"}},41:function(e,t,n){e.exports={container:"SearchBar_container__1V69S",searchIcon:"SearchBar_searchIcon__1O1rv",help:"SearchBar_help__s0Aw3",helptext:"SearchBar_helptext__39_k5",show:"SearchBar_show__2W-Vr"}},42:function(e,t,n){e.exports={container1:"ChildPage_container1__2T2U6",container2:"ChildPage_container2__3ZZEz",sessions:"ChildPage_sessions__33EMz",container2_1:"ChildPage_container2_1__2C0tq",container2_1_1:"ChildPage_container2_1_1__1jX7B",addbtn:"ChildPage_addbtn__2IZXX",videoplay:"ChildPage_videoplay__14Ke9",nosession:"ChildPage_nosession__25hZh"}},43:function(e,t,n){e.exports={container2:"SessionPage_container2__2K-ys",form:"SessionPage_form__20VBz",videoCards:"SessionPage_videoCards__-GoVS",videoCard:"SessionPage_videoCard__2MsQv",submitbtn:"SessionPage_submitbtn__4IL6u",uploading_div:"SessionPage_uploading_div__VWXsz",audioHead:"SessionPage_audioHead__2I_uc"}},45:function(e,t,n){e.exports={container:"DeleteConfirmAlert_container__3WAeA",header:"DeleteConfirmAlert_header__3z1OF",actions:"DeleteConfirmAlert_actions__1bCJ8",cancelbtn:"DeleteConfirmAlert_cancelbtn__dh9MR",deletebtn:"DeleteConfirmAlert_deletebtn__3GeeI",result:"DeleteConfirmAlert_result__3s0gj"}},50:function(e,t,n){e.exports={dropbox:"DragDropField_dropbox__1aPMq",dropbox_dragging:"DragDropField_dropbox_dragging__38RD1",filefield:"DragDropField_filefield__38Wod"}},55:function(e,t,n){e.exports={container:"Homepage_container__1xCVz",tasks:"Homepage_tasks__aVila",image:"Homepage_image__1tjvo"}},59:function(e,t,n){e.exports={app:"App_app__1kX79",main:"App_main__3ZkGI"}},63:function(e,t,n){e.exports={container:"VideoPlayer_container__Pa6_v",player:"VideoPlayer_player__2IwPo"}},68:function(e,t,n){e.exports={container:"AudioPlayer_container__1Wda9",pic:"AudioPlayer_pic__2VYhL"}},85:function(e,t,n){e.exports={header:"Header_header__1ZcSn"}},89:function(e,t,n){e.exports={breadcrumbs:"Breadcrumbs_breadcrumbs__1kRrx"}},90:function(e,t,n){e.exports={loader:"BtnSpinner_loader__zkUjx",load8:"BtnSpinner_load8__2WqSd"}},91:function(e,t,n){e.exports={lds_default:"PageSpinner_lds_default__3kN50"}},92:function(e,t,n){e.exports={container:"SingleVideoPlayerModal_container__1F0BA"}}},[[164,1,2]]]);
//# sourceMappingURL=main.fa596c58.chunk.js.map