(this.webpackJsonpvideoslicer=this.webpackJsonpvideoslicer||[]).push([[0],{120:function(e,t){},147:function(e,t,n){"use strict";n.r(t);var i=n(2),a=n.n(i),c=n(48),s=n.n(c),r=(n(95),n(23)),o=n(27),l=n(14),d=n(29),u=n(56),h=n.n(u),v=n(9),j=n(10),p=n(12),b=n(11),m=n(15),_=n.n(m),x=n.p+"static/media/logo.c03acd30.png",g="TYPICAL",O="ANTYPICAL",f="UNSLICED",k="SLICED",w="ALL",y="CSAAT_VIDEO_SLICE_CHILDTYPE",S="CSAAT_VIDEO_SLICE_ACTIVE_NAV",N="CSAAT_VIDEO_SLICE_ACTIVE_VIDEO",E="FETCH_VIDEOS",C="DELETE_VIDEOS",V="NAV_HOME",L="NAV_TYPICAL_VIDEO",A="NAV_ATPICAL_VIDEO",B="SET_NAV",T=function(e){return function(t,n){t({type:B,data:e})}},I=n(0),D=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(v.a)(this,n);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).setNav=function(t){var n="";switch(t.innerText){case"Home":n=V;break;case"Typical Videos":n=L;break;case"Atypical Videos":n=A;break;default:return}e.props.setNav(n),localStorage.setItem(S,n),e.removeSelected(),t.classList.add("".concat(_.a.nav_a_selected))},e.removeSelected=function(){var e=document.getElementsByClassName("".concat(_.a.nav))[0];if(e)for(var t=e.getElementsByTagName("a"),n=0;n<t.length;n++)t[n].classList.remove("".concat(_.a.nav_a_selected))},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){for(var e=document.getElementsByClassName("".concat(_.a.nav))[0].getElementsByTagName("a"),t=0;t<e.length;t++)e[t].addEventListener("click",this.setNav.bind(this,e[t]))}},{key:"componentWillUnmount",value:function(){for(var e=document.getElementsByClassName("".concat(_.a.nav))[0].getElementsByTagName("a"),t=0;t<e.length;t++)e[t].removeEventListener("click",this.setNav.bind(this,e[t]));localStorage.removeItem(S)}},{key:"render",value:function(){var e=null;return this.removeSelected(),e=this.props.currentNav?this.props.currentNav:localStorage.getItem(S),Object(I.jsxs)("div",{className:_.a.container,children:[Object(I.jsxs)("div",{className:_.a.logo,children:[Object(I.jsx)("img",{src:x,alt:"logo"}),Object(I.jsxs)("div",{className:_.a.logo_1,children:[Object(I.jsx)("h1",{className:_.a.logo_1_1,children:"CSAAT"}),Object(I.jsx)("h4",{className:_.a.logo_1_2,children:"Video Slicer"})]})]}),Object(I.jsx)("nav",{className:_.a.nav,children:Object(I.jsxs)("ul",{children:[Object(I.jsx)("li",{className:_.a.csaat_home,children:Object(I.jsxs)("a",{href:"http://127.0.0.1:8000",children:[Object(I.jsx)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(I.jsx)("path",{d:"M9.984 9.984h4.031q0-0.797-0.609-1.383t-1.406-0.586-1.406 0.586-0.609 1.383zM18.984 9.281l3 2.719h-3v8.016h-4.969v-6h-4.031v6h-4.969v-8.016h-3l9.984-9 3.984 3.609v-2.625h3v5.297z"})}),Object(I.jsx)("span",{children:"CSAAT Home"})]})}),Object(I.jsx)("li",{className:_.a.uploader_home,children:Object(I.jsxs)("a",{href:"http://127.0.0.1:8000/video-uploader",target:"_blank",rel:"noreferrer",children:[Object(I.jsx)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(I.jsx)("path",{d:"M14.016 12.984h3l-5.016-4.969-5.016 4.969h3v4.031h4.031v-4.031zM19.359 10.031q1.922 0.141 3.281 1.57t1.359 3.398q0 2.063-1.477 3.539t-3.539 1.477h-12.984q-2.484 0-4.242-1.758t-1.758-4.242q0-2.203 1.57-3.961t3.773-1.992q0.984-1.828 2.766-2.953t3.891-1.125q2.531 0 4.711 1.781t2.648 4.266z"})}),Object(I.jsx)("span",{children:"Video Uploader"})]})}),Object(I.jsx)("li",{className:e===V?_.a.nav_li_selected:null,children:Object(I.jsxs)(o.b,{to:"/",children:[Object(I.jsx)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(I.jsx)("path",{d:"M9.984 20.016h-4.969v-8.016h-3l9.984-9 9.984 9h-3v8.016h-4.969v-6h-4.031v6z"})}),Object(I.jsx)("span",{children:"Home"})]})}),Object(I.jsx)("li",{className:e===L?_.a.nav_li_selected:null,children:Object(I.jsxs)(o.b,{to:"/t_videos",children:[Object(I.jsx)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(I.jsx)("path",{d:"M12.984 8.016q0-1.125-0.539-2.039t-1.43-1.453-2.016-0.539-2.016 0.539-1.43 1.453-0.539 2.039q0 1.078 0.539 1.992t1.43 1.453 2.016 0.539 2.016-0.539 1.43-1.453 0.539-1.992zM15 9.984v2.016h3v3h2.016v-3h3v-2.016h-3v-3h-2.016v3h-3zM0.984 18v2.016h16.031v-2.016q0-0.797-0.563-1.43t-1.477-1.125-1.992-0.797-2.133-0.469-1.852-0.164-1.852 0.164-2.133 0.469-1.992 0.797-1.477 1.125-0.563 1.43z"})}),Object(I.jsx)("span",{children:"Typical Videos"})]})}),Object(I.jsx)("li",{className:e===A?_.a.nav_li_selected:null,children:Object(I.jsxs)(o.b,{to:"/at_videos",children:[Object(I.jsx)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(I.jsx)("path",{d:"M14.016 8.016q0-1.125-0.539-2.039t-1.453-1.453-2.039-0.539q-1.078 0-1.992 0.539t-1.453 1.453-0.539 2.039q0 1.078 0.539 1.992t1.453 1.453 1.992 0.539q1.125 0 2.039-0.539t1.453-1.453 0.539-1.992zM17.016 9.984v2.016h6v-2.016h-6zM2.016 18v2.016h15.984v-2.016q0-0.797-0.563-1.43t-1.477-1.125-1.992-0.797-2.133-0.469-1.852-0.164-1.828 0.164-2.109 0.469-1.992 0.797-1.477 1.125-0.563 1.43z"})}),Object(I.jsx)("span",{children:"Atypical Videos"})]})})]})}),Object(I.jsxs)("div",{className:_.a.copyright,children:[Object(I.jsxs)("span",{className:_.a.copyright_1,children:["\xa9 Copyright ",Object(I.jsx)("strong",{children:"CSAAT"})]}),Object(I.jsx)("span",{className:_.a.copyright_2,children:"All Rights Reserved"})]})]})}}]),n}(i.Component),q=Object(d.b)((function(e){return{currentNav:e.navigationReducer.currentNav}}),{setNav:T})(D),M=n(52),U=n.n(M),R=n.p+"static/media/homepage.519f2d69.svg",z=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.props.setNav(V),localStorage.setItem(S,V)}},{key:"render",value:function(){return Object(I.jsxs)("div",{className:U.a.container,children:[Object(I.jsx)("h1",{children:"Slice Videos"}),Object(I.jsxs)("div",{className:U.a.tasks,children:[Object(I.jsxs)(o.b,{to:"/t_videos",children:["\u27a2 ",Object(I.jsx)("span",{children:"Slice Typical Children Videos"})]}),Object(I.jsxs)(o.b,{to:"/at_videos",children:["\u27a2 ",Object(I.jsx)("span",{children:"Slice Atypical Children Videos"})]})]}),Object(I.jsx)("div",{className:U.a.image,children:Object(I.jsx)("img",{src:R,alt:"homepage"})})]})}}]),n}(i.Component),P=Object(d.b)(null,{setNav:T})(z),F=n(13),G=n.n(F),H=n(20),W=n(17),Y=n.n(W),Z=n(25),X=n.n(Z),J=n(77),K=n.n(J),Q=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){var e=[],t=this.props,n=t.sub_links,i=t.heading,a=t.current;if(n){for(var c=0;c<n.length;c++){var s=Object(I.jsx)(o.b,{to:{pathname:n[c].link,state:this.props.state},children:n[c].name});e.push(s)}e.push(a)}return Object(I.jsx)("div",{className:"container",children:Object(I.jsxs)("div",{className:"".concat(K.a.breadcrumbs),children:[n?Object(I.jsx)("ol",{children:e.map((function(e,t){return Object(I.jsx)("li",{children:e},t)}))}):null,Object(I.jsx)("h2",{children:i})]})})}}]),n}(i.Component),$=n.p+"static/media/empty.14ea48b6.svg",ee=n(7),te=n(78),ne=n.n(te),ie=function(e){return Object(I.jsx)(i.Fragment,{children:Object(I.jsxs)("div",{className:ne.a.lds_default,children:[Object(I.jsx)("div",{}),Object(I.jsx)("div",{}),Object(I.jsx)("div",{}),Object(I.jsx)("div",{}),Object(I.jsx)("div",{}),Object(I.jsx)("div",{}),Object(I.jsx)("div",{}),Object(I.jsx)("div",{}),Object(I.jsx)("div",{}),Object(I.jsx)("div",{}),Object(I.jsx)("div",{}),Object(I.jsx)("div",{})]})})},ae=n(35),ce=n(32),se=n.n(ce),re=function(e){var t=Object(i.useState)(""),n=Object(ae.a)(t,2),a=n[0],c=n[1],s=null,r=function(e){var t=document.getElementsByClassName("".concat(se.a.helptext))[0];1===e?s=setTimeout((function(){t.classList.add("".concat(se.a.show))}),1e3):(clearTimeout(s),t.classList.remove("".concat(se.a.show)))};return Object(I.jsxs)("div",{className:se.a.container,children:[Object(I.jsxs)("div",{className:se.a.searchDiv,children:[Object(I.jsx)("input",{id:"searchField",name:"searchField",placeholder:"Search videos..",type:"text"}),Object(I.jsx)("button",{onClick:function(t){var n=document.getElementById("searchField");n&&(a!==n.value&&e.click(n.value),c(n.value))},children:Object(I.jsx)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(I.jsx)("path",{d:"M9.516 14.016q1.875 0 3.188-1.313t1.313-3.188-1.313-3.188-3.188-1.313-3.188 1.313-1.313 3.188 1.313 3.188 3.188 1.313zM15.516 14.016l4.969 4.969-1.5 1.5-4.969-4.969v-0.797l-0.281-0.281q-1.781 1.547-4.219 1.547-2.719 0-4.617-1.875t-1.898-4.594 1.898-4.617 4.617-1.898 4.594 1.898 1.875 4.617q0 0.984-0.469 2.227t-1.078 1.992l0.281 0.281h0.797z"})})})]}),Object(I.jsx)("svg",{className:se.a.help,onMouseOver:function(){return r(1)},onMouseOut:function(){return r(0)},version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(I.jsx)("path",{d:"M18.984 3h-13.969q-0.844 0-1.43 0.586t-0.586 1.43v13.969q0 0.844 0.586 1.43t1.43 0.586h13.969q0.844 0 1.43-0.586t0.586-1.43v-13.969q0-0.844-0.586-1.43t-1.43-0.586zM12 18q-0.516 0-0.891-0.375t-0.375-0.891 0.375-0.891 0.891-0.375q0.563 0 0.914 0.375t0.352 0.891-0.352 0.891-0.914 0.375zM15 10.594q-0.563 0.844-1.055 1.242t-0.773 0.914q-0.141 0.234-0.188 0.492t-0.047 0.961h-1.828v-0.938t0.328-1.078q0.328-0.656 0.938-1.102t0.984-1.055q0.328-0.375 0.281-0.938t-0.445-0.984-1.195-0.422-1.219 0.492-0.563 1.008l-1.641-0.703q0.328-0.984 1.195-1.734t2.227-0.75q1.078 0 1.852 0.445t1.148 1.055q0.328 0.563 0.422 1.453t-0.422 1.641z"})}),Object(I.jsxs)("span",{className:se.a.helptext,children:["Search children by"," ",localStorage.getItem(y)===g?"child unique no, child sequence no, ":"child clinic no, "," ","child name, session recorded date, camera, camera angle"]}),Object(I.jsx)("button",{onClick:function(){var t=document.getElementById("searchField");t&&(t.value=""),c(""),e.click("")},className:se.a.refresh,children:Object(I.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[Object(I.jsx)("title",{children:"Refresh"}),Object(I.jsx)("path",{d:"M12 18v-3l3.984 3.984-3.984 4.031v-3q-3.281 0-5.648-2.367t-2.367-5.648q0-2.344 1.266-4.266l1.453 1.453q-0.703 1.266-0.703 2.813 0 2.484 1.758 4.242t4.242 1.758zM12 3.984q3.281 0 5.648 2.367t2.367 5.648q0 2.344-1.266 4.266l-1.453-1.453q0.703-1.266 0.703-2.813 0-2.484-1.758-4.242t-4.242-1.758v3l-3.984-3.984 3.984-4.031v3z"})]})})]})},oe=n(42),le=n.n(oe),de=function(e){var t=function(t){for(var n=document.getElementsByClassName("".concat(le.a.container))[0].querySelectorAll("button"),i=document.getElementById(t+"tab_btn"),a=0;a<n.length;a++)n[a].classList.remove("".concat(le.a.selected));i.classList.add("".concat(le.a.selected)),e.change(t)};return Object(I.jsxs)("div",{className:le.a.container,children:[Object(I.jsx)("button",{id:f+"tab_btn",onClick:function(){return t(f)},className:le.a.selected,autoFocus:!0,children:"Unsliced"}),Object(I.jsx)("button",{id:k+"tab_btn",onClick:function(){return t(k)},children:"Sliced"}),Object(I.jsx)("button",{id:w+"tab_btn",onClick:function(){return t(w)},children:"All"})]})},ue=n(30),he=n.n(ue),ve=n(43),je=n.n(ve),pe=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(e){var i;return Object(v.a)(this,n),(i=t.call(this,e)).createVideo=function(){i.timeout=setTimeout((function(){var e=document.getElementById(i.props.video.id+i.props.video.name+"container"),t=document.createElement("video");t.setAttribute("key",i.props.keyf),t.muted=!0,t.controls=!1,t.autoplay=!1;var n=document.createElement("source");if(n.setAttribute("src","http://localhost:8000"+i.props.video.video),n.setAttribute("type",i.props.video.file_type),n.append("Video playing error"),t.appendChild(n),0===e.querySelectorAll("video").length){var a=e.querySelector("div");a.classList.add("".concat(je.a.animate)),t.onloadeddata=function(){a.classList.remove("".concat(je.a.animate));var n=e.querySelector("figure");n&&e.removeChild(n),e.appendChild(t),t.play()}}}),1e3)},i.createImg=function(){clearTimeout(i.timeout);var e=document.getElementById(i.props.video.id+i.props.video.name+"container");e.querySelector("div").classList.remove("".concat(je.a.animate));var t=document.createElement("figure"),n=document.createElement("img"),a="";if(a=String(i.props.video.thumbnail).includes("http://localhost:8000")?i.props.video.thumbnail:"http://localhost:8000"+i.props.video.thumbnail,n.setAttribute("src",a),n.setAttribute("alt","thumbnail"),t.appendChild(n),0===e.querySelectorAll("figure").length){var c=e.querySelector("video");c&&(c.pause(),c.removeAttribute("src"),e.removeChild(c),c.remove()),e.prepend(t)}},i.state={modal:!1},i.timeout=null,i}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=document.getElementById(this.props.video.id+this.props.video.name+"container");e.addEventListener("mouseenter",this.createVideo),e.addEventListener("mouseleave",this.createImg),this.createImg()}},{key:"componentWillUnmount",value:function(){var e=document.getElementById(this.props.video.id+this.props.video.name+"container"),t=e.querySelector("video"),n=e.querySelector("figure");e.removeEventListener("mouseover",this.createVideo),e.removeEventListener("mouseout",this.createImg),t&&(t.pause(),t.removeAttribute("src"),t.load(),t.remove()),n&&n.remove()}},{key:"render",value:function(){return Object(I.jsx)("div",{id:this.props.video.id+this.props.video.name+"container",className:je.a.container,onClick:this.onClickHandler,children:Object(I.jsx)("div",{className:je.a.shadow})})}}]),n}(i.Component),be=n(59),me=n.n(be),_e=n(31),xe=n.n(_e),ge=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"componentDidMount",value:function(){if(this.props.player){var e=document.getElementsByClassName("".concat(xe.a.container))[0],t=document.getElementsByClassName("".concat(xe.a.closebtn_svg))[0];e.classList.add("".concat(xe.a.container_play)),t.classList.add("".concat(xe.a.closebtn_play_svg))}}},{key:"render",value:function(){var e=this;return Object(I.jsxs)("div",{className:xe.a.wrapper,children:[Object(I.jsxs)("div",{className:xe.a.container,id:"modalContent",children:[Object(I.jsx)("button",{onClick:function(){return e.props.close()},className:xe.a.closebtn,children:Object(I.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:xe.a.closebtn_svg,children:[Object(I.jsx)("title",{children:"Close"}),Object(I.jsx)("path",{d:"M18.984 6.422l-5.578 5.578 5.578 5.578-1.406 1.406-5.578-5.578-5.578 5.578-1.406-1.406 5.578-5.578-5.578-5.578 1.406-1.406 5.578 5.578 5.578-5.578z"})]})}),this.props.children]}),Object(I.jsx)("div",{className:xe.a.overlay,id:"modalFrameOverlay"})]})}}]),n}(i.Component),Oe=function(e){return Object(I.jsx)(ge,{close:e.close,children:e.obj?Object(I.jsxs)("div",{className:me.a.container,children:[localStorage.getItem(y)===g?Object(I.jsxs)(i.Fragment,{children:[Object(I.jsxs)("span",{children:["Child Unique No : ",e.obj.child_unique_no]}),Object(I.jsxs)("span",{children:["Child Sequence No : ",e.obj.child_sequence_no]})]}):Object(I.jsxs)("span",{children:["Child Clinic No : ",e.obj.child_clinic_no]}),Object(I.jsxs)("span",{children:["Child Name : ",e.obj.child_name]}),Object(I.jsxs)("span",{children:["Recorded Date : ",e.obj.session_date]}),Object(I.jsxs)("span",{children:["Camera : ",e.obj.camera]}),Object(I.jsxs)("span",{children:["Camera Angle : ",e.obj.camera_angle]}),Object(I.jsxs)("span",{children:["Duration : ",function(e){try{var t=new Date(null);return t.setSeconds(parseInt(e)),t.toISOString().substr(11,8)}catch(n){return"00:00:00"}}(e.obj.duration)]}),Object(I.jsxs)("span",{children:["Video Type : ",e.obj.file_type]}),Object(I.jsxs)("span",{children:["Video Extension : ",e.obj.file_extension]})]}):Object(I.jsx)("div",{className:me.a.container,children:Object(I.jsx)("p",{children:"No data available"})})})},fe=n(79),ke=n.n(fe),we=n(90),ye=(n(145),n(146),function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=1e6*Math.random(),t={autoplay:!1,muted:!0,controls:!0,preload:"auto",inactivityTimeout:0,fluid:!0,playbackRates:[.5,1,1.5,2],loop:!1,sources:[{src:"http://localhost:8000".concat(this.props.video.video,"/?").concat(e),type:this.props.video.file_type}]};this.player=Object(we.a)(this.videoNode,t,(function(){}))}},{key:"componentWillUnmount",value:function(){this.player&&this.player.dispose(),URL.revokeObjectURL(this.url)}},{key:"render",value:function(){var e=this;return Object(I.jsx)("div",{children:Object(I.jsx)("div",{"data-vjs-player":!0,children:Object(I.jsx)("video",{ref:function(t){return e.videoNode=t},className:"video-js vjs-theme-forest"})})})}}]),n}(i.Component)),Se=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(I.jsx)(ge,{player:!0,close:this.props.close,children:Object(I.jsx)("div",{className:ke.a.container,children:Object(I.jsx)(ye,{video:this.props.video})})})}}]),n}(i.Component),Ne=function(e){var t=Object(i.useState)(!1),n=Object(ae.a)(t,2),a=n[0],c=n[1],s=Object(i.useState)(!1),r=Object(ae.a)(s,2),o=r[0],l=r[1],d=Object(i.useState)(""),u=Object(ae.a)(d,2),h=u[0],v=u[1],j=Object(i.useRef)(!1);Object(i.useEffect)((function(){return j.current=!0,function(){var t=Object(H.a)(G.a.mark((function t(){var n;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Y.a.get("".concat(ee.BASE_URL,"/video-info/").concat(e.video.id,"/"));case 3:n=t.sent,v(n.data),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}()(),function(){j.current=!1}}),[e.video.id]);return Object(I.jsxs)("div",{className:he.a.container,children:[Object(I.jsx)("div",{className:he.a.player,onClick:function(){e.video.video&&l(!0)},children:Object(I.jsx)(pe,{keyf:e.video.id,video:e.video})}),h?Object(I.jsxs)("div",{className:he.a.detail,children:[localStorage.getItem(y)===g?Object(I.jsxs)(i.Fragment,{children:[Object(I.jsxs)("span",{children:["Child Unique No : ",h.child_unique_no]}),Object(I.jsxs)("span",{children:["Child Sequence No : ",h.child_sequence_no]})]}):Object(I.jsxs)("span",{children:["Child Clinic No : ",h.child_clinic_no]}),Object(I.jsxs)("span",{children:["Child Name : ",h.child_name]})]}):null,Object(I.jsxs)("div",{className:he.a.info,children:[e.tab===w?Object(I.jsx)("div",{className:he.a.info_1,children:e.video.sliced?Object(I.jsx)("svg",{className:he.a.yes,version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"28",viewBox:"0 0 24 28",children:Object(I.jsx)("path",{d:"M10.703 20.297l9.594-9.594c0.391-0.391 0.391-1.016 0-1.406l-1.594-1.594c-0.391-0.391-1.016-0.391-1.406 0l-7.297 7.297-3.297-3.297c-0.391-0.391-1.016-0.391-1.406 0l-1.594 1.594c-0.391 0.391-0.391 1.016 0 1.406l5.594 5.594c0.391 0.391 1.016 0.391 1.406 0zM24 6.5v15c0 2.484-2.016 4.5-4.5 4.5h-15c-2.484 0-4.5-2.016-4.5-4.5v-15c0-2.484 2.016-4.5 4.5-4.5h15c2.484 0 4.5 2.016 4.5 4.5z"})}):Object(I.jsx)("svg",{className:he.a.no,version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 28 28",children:Object(I.jsx)("path",{d:"M18.359 20.641l2.281-2.281c0.203-0.203 0.203-0.516 0-0.719l-3.641-3.641 3.641-3.641c0.203-0.203 0.203-0.516 0-0.719l-2.281-2.281c-0.203-0.203-0.516-0.203-0.719 0l-3.641 3.641-3.641-3.641c-0.203-0.203-0.516-0.203-0.719 0l-2.281 2.281c-0.203 0.203-0.203 0.516 0 0.719l3.641 3.641-3.641 3.641c-0.203 0.203-0.203 0.516 0 0.719l2.281 2.281c0.203 0.203 0.516 0.203 0.719 0l3.641-3.641 3.641 3.641c0.203 0.203 0.516 0.203 0.719 0zM28 4.5v19c0 1.375-1.125 2.5-2.5 2.5h-23c-1.375 0-2.5-1.125-2.5-2.5v-19c0-1.375 1.125-2.5 2.5-2.5h23c1.375 0 2.5 1.125 2.5 2.5z"})})}):null,Object(I.jsx)("div",{className:he.a.details,onClick:function(){c(!0)},children:Object(I.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[Object(I.jsx)("title",{children:"More Details"}),Object(I.jsx)("path",{d:"M18.984 3h-13.969q-0.844 0-1.43 0.586t-0.586 1.43v13.969q0 0.844 0.586 1.43t1.43 0.586h13.969q0.844 0 1.43-0.586t0.586-1.43v-13.969q0-0.844-0.586-1.43t-1.43-0.586zM12 18q-0.516 0-0.891-0.375t-0.375-0.891 0.375-0.891 0.891-0.375q0.563 0 0.914 0.375t0.352 0.891-0.352 0.891-0.914 0.375zM15 10.594q-0.563 0.844-1.055 1.242t-0.773 0.914q-0.141 0.234-0.188 0.492t-0.047 0.961h-1.828v-0.938t0.328-1.078q0.328-0.656 0.938-1.102t0.984-1.055q0.328-0.375 0.281-0.938t-0.445-0.984-1.195-0.422-1.219 0.492-0.563 1.008l-1.641-0.703q0.328-0.984 1.195-1.734t2.227-0.75q1.078 0 1.852 0.445t1.148 1.055q0.328 0.563 0.422 1.453t-0.422 1.641z"})]})}),Object(I.jsx)("button",{className:he.a.select_btn,onClick:function(){var t="",n=localStorage.getItem(y);localStorage.setItem(N,e.video.id),t=n===g?"/t_videos/".concat(e.video.id):"/at_videos/".concat(e.video.id),e.history.push({pathname:t})},children:"Slice"})]}),a?Object(I.jsx)(Oe,{obj:h,close:function(){c(!1)}}):null,o?Object(I.jsx)(Se,{video:e.video,close:function(){l(!1)}}):null]})},Ee=function(e){return function(t,n){t({type:E,data:e})}},Ce=function(){return function(e,t){e({type:C})}},Ve=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(e){var i;return Object(v.a)(this,n),(i=t.call(this,e)).trackScrolling=function(){window.innerHeight+window.scrollY>=document.body.offsetHeight-120&&(i.state.isSearching||i.state.nextLink&&i.fetchVideos(i.state.nextLink))},i.fetchVideos=function(){var e=Object(H.a)(G.a.mark((function e(t){var n,a;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.mounted){e.next=2;break}return e.abrupt("return");case 2:if(20,!(i.lastClick>=Date.now()-20)){e.next=5;break}return e.abrupt("return");case 5:return i.lastClick=Date.now(),i.props.videos&&0===i.props.videos.length&&i.setState({loading:!0}),e.prev=7,e.next=10,Y.a.get(t);case 10:n=e.sent,a=n.data,i.props.getVideos(a.results),i.setState({count:a.count,prevLink:a.previous,nextLink:a.next,loading:!1}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(7),i.setState({loading:!1});case 19:case"end":return e.stop()}}),e,null,[[7,16]])})));return function(t){return e.apply(this,arguments)}}(),i.filterVideos=function(){var e=Object(H.a)(G.a.mark((function e(t){var n,a;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.mounted){e.next=2;break}return e.abrupt("return");case 2:n="",e.t0=i.state.tab,e.next=e.t0===w?6:e.t0===k?8:e.t0===f?10:12;break;case 6:return n="".concat(ee.BASE_URL,"/t-f-videos/?search=").concat(t),e.abrupt("break",13);case 8:return n="".concat(ee.BASE_URL,"/t-s-f-videos/?search=").concat(t),e.abrupt("break",13);case 10:return n="".concat(ee.BASE_URL,"/t-us-f-videos/?search=").concat(t),e.abrupt("break",13);case 12:return e.abrupt("return");case 13:return i.setState({loading:!0}),e.prev=14,e.next=17,Y.a.get(n);case 17:a=e.sent,i.setState({loading:!1}),i.props.getVideos(a.data),e.next=24;break;case 22:e.prev=22,e.t1=e.catch(14);case 24:case"end":return e.stop()}}),e,null,[[14,22]])})));return function(t){return e.apply(this,arguments)}}(),i.tabChange=function(e){i.setState({tab:e}),i.props.deleteVideos();var t="";switch(e){case w:t="".concat(ee.BASE_URL,"/t-videos/");break;case k:t="".concat(ee.BASE_URL,"/t-s-videos/");break;case f:t="".concat(ee.BASE_URL,"/t-us-videos/");break;default:return}i.fetchVideos(t)},i.search=function(e){if(i.setState({count:0,prevLink:null,nextLink:null}),i.props.deleteVideos(),""===e){i.setState({isSearching:!1});var t="";switch(i.state.tab){case w:t="".concat(ee.BASE_URL,"/t-videos/");break;case k:t="".concat(ee.BASE_URL,"/t-s-videos/");break;case f:t="".concat(ee.BASE_URL,"/t-us-videos/");break;default:return}i.fetchVideos(t)}else i.setState({isSearching:!0}),i.filterVideos(e)},i.state={count:0,nextLink:null,prevLink:null,isSearching:!1,loading:!1,tab:f},i.lastClick=0,i.searchVal="",i.timeout=null,i}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.mounted=!0,this.props.deleteVideos(),this.props.setNav(L),localStorage.setItem(S,L),localStorage.setItem(y,g),this.fetchVideos("".concat(ee.BASE_URL,"/t-us-videos/")),document.addEventListener("scroll",this.trackScrolling)}},{key:"componentWillUnmount",value:function(){this.mounted=!1,document.removeEventListener("scroll",this.trackScrolling)}},{key:"render",value:function(){var e=this,t=this.props.videos;return Object(I.jsxs)(i.Fragment,{children:[Object(I.jsx)(Q,{heading:"Typical Videos",sub_links:[{name:"Home",link:"/"}],current:"Typical Videos",state:null}),Object(I.jsxs)("div",{className:"container",children:[Object(I.jsxs)("div",{className:X.a.filterDiv,children:[Object(I.jsx)(de,{change:function(t){return e.tabChange(t)}}),Object(I.jsx)(re,{click:function(t){return e.search(t)}})]}),Object(I.jsx)("div",{className:X.a.countDiv,children:this.state.isSearching?Object(I.jsxs)("span",{children:["Showing ",this.props.videos.length," records"]}):Object(I.jsxs)("span",{children:["Showing ",this.props.videos.length," out of ",this.state.count," ","records"]})}),this.state.loading?Object(I.jsx)("div",{className:X.a.loading_div,children:Object(I.jsx)(ie,{})}):Object(I.jsx)(i.Fragment,{children:t&&t.length>0?Object(I.jsx)("div",{className:X.a.videoGrid,children:t.map((function(t,n){return Object(I.jsx)(Ne,{video:t,history:e.props.history,tab:e.state.tab},n)}))}):Object(I.jsxs)("div",{className:X.a.emptyDiv,children:[Object(I.jsx)("img",{src:$,alt:"No videos"}),Object(I.jsx)("h6",{children:"There are no records available"})]})})]})]})}}]),n}(i.Component),Le=Object(d.b)((function(e){return{videos:e.videoReducer.videos}}),{getVideos:Ee,deleteVideos:Ce,setNav:T})(Ve),Ae=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(e){var i;return Object(v.a)(this,n),(i=t.call(this,e)).trackScrolling=function(){window.innerHeight+window.scrollY>=document.body.offsetHeight-120&&(i.state.isSearching||i.state.nextLink&&i.fetchVideos(i.state.nextLink))},i.fetchVideos=function(){var e=Object(H.a)(G.a.mark((function e(t){var n,a;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.mounted){e.next=2;break}return e.abrupt("return");case 2:if(20,!(i.lastClick>=Date.now()-20)){e.next=5;break}return e.abrupt("return");case 5:return i.lastClick=Date.now(),i.props.videos&&0===i.props.videos.length&&i.setState({loading:!0}),e.prev=7,e.next=10,Y.a.get(t);case 10:n=e.sent,a=n.data,i.props.getVideos(a.results),i.setState({count:a.count,prevLink:a.previous,nextLink:a.next,loading:!1}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(7),i.setState({loading:!1});case 19:case"end":return e.stop()}}),e,null,[[7,16]])})));return function(t){return e.apply(this,arguments)}}(),i.filterVideos=function(){var e=Object(H.a)(G.a.mark((function e(t){var n,a;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.mounted){e.next=2;break}return e.abrupt("return");case 2:n="",e.t0=i.state.tab,e.next=e.t0===w?6:e.t0===k?8:e.t0===f?10:12;break;case 6:return n="".concat(ee.BASE_URL,"/at-f-videos/?search=").concat(t),e.abrupt("break",13);case 8:return n="".concat(ee.BASE_URL,"/at-s-f-videos/?search=").concat(t),e.abrupt("break",13);case 10:return n="".concat(ee.BASE_URL,"/at-us-f-videos/?search=").concat(t),e.abrupt("break",13);case 12:return e.abrupt("return");case 13:return i.setState({loading:!0}),e.prev=14,e.next=17,Y.a.get(n);case 17:a=e.sent,i.setState({loading:!1}),i.props.getVideos(a.data),e.next=24;break;case 22:e.prev=22,e.t1=e.catch(14);case 24:case"end":return e.stop()}}),e,null,[[14,22]])})));return function(t){return e.apply(this,arguments)}}(),i.tabChange=function(e){i.setState({tab:e}),i.props.deleteVideos();var t="";switch(e){case w:t="".concat(ee.BASE_URL,"/at-videos/");break;case k:t="".concat(ee.BASE_URL,"/at-s-videos/");break;case f:t="".concat(ee.BASE_URL,"/at-us-videos/");break;default:return}i.fetchVideos(t)},i.search=function(e){if(i.setState({count:0,prevLink:null,nextLink:null}),i.props.deleteVideos(),""===e){i.setState({isSearching:!1});var t="";switch(i.state.tab){case w:t="".concat(ee.BASE_URL,"/at-videos/");break;case k:t="".concat(ee.BASE_URL,"/at-s-videos/");break;case f:t="".concat(ee.BASE_URL,"/at-us-videos/");break;default:return}i.fetchVideos(t)}else i.setState({isSearching:!0}),i.filterVideos(e)},i.state={count:0,nextLink:null,prevLink:null,isSearching:!1,loading:!1,tab:f},i.lastClick=0,i.searchVal="",i.timeout=null,i}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.mounted=!0,this.props.deleteVideos(),this.props.setNav(A),localStorage.setItem(S,A),localStorage.setItem(y,O),this.fetchVideos("".concat(ee.BASE_URL,"/at-us-videos/")),document.addEventListener("scroll",this.trackScrolling)}},{key:"componentWillUnmount",value:function(){this.mounted=!1,document.removeEventListener("scroll",this.trackScrolling)}},{key:"render",value:function(){var e=this,t=this.props.videos;return Object(I.jsxs)(i.Fragment,{children:[Object(I.jsx)(Q,{heading:"Atypical Videos",sub_links:[{name:"Home",link:"/"}],current:"Atypical Videos",state:null}),Object(I.jsxs)("div",{className:"container",children:[Object(I.jsxs)("div",{className:X.a.filterDiv,children:[Object(I.jsx)(de,{change:function(t){return e.tabChange(t)}}),Object(I.jsx)(re,{click:function(t){return e.search(t)}})]}),Object(I.jsx)("div",{className:X.a.countDiv,children:this.state.isSearching?Object(I.jsxs)("span",{children:["Showing ",this.props.videos.length," records"]}):Object(I.jsxs)("span",{children:["Showing ",this.props.videos.length," out of ",this.state.count," ","records"]})}),this.state.loading?Object(I.jsx)("div",{className:X.a.loading_div,children:Object(I.jsx)(ie,{})}):Object(I.jsx)(i.Fragment,{children:t&&t.length>0?Object(I.jsx)("div",{className:X.a.videoGrid,children:t.map((function(t,n){return Object(I.jsx)(Ne,{video:t,history:e.props.history,tab:e.state.tab},n)}))}):Object(I.jsxs)("div",{className:X.a.emptyDiv,children:[Object(I.jsx)("img",{src:$,alt:"No videos"}),Object(I.jsx)("h6",{children:"There are no records available"})]})})]})]})}}]),n}(i.Component),Be=Object(d.b)((function(e){return{videos:e.videoReducer.videos}}),{getVideos:Ee,deleteVideos:Ce,setNav:T})(Ae),Te=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(e){var i;return Object(v.a)(this,n),(i=t.call(this,e)).state={error:null,errorInfo:null},i}return Object(j.a)(n,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,errorInfo:t})}},{key:"render",value:function(){return this.state.errorInfo?Object(I.jsxs)("div",{children:[Object(I.jsx)("h2",{children:"Something went wrong."}),Object(I.jsxs)("details",{style:{whiteSpace:"pre-wrap"},children:[this.state.error&&this.state.error.toString(),Object(I.jsx)("br",{}),this.state.errorInfo.componentStack]})]}):this.props.children}}]),n}(i.Component),Ie=n(45),De=n(28),qe=n(65),Me=n(16),Ue=n.n(Me),Re=n.p+"static/media/no_videos.37962c11.svg",ze=n(33),Pe=n.n(ze),Fe="PLAY",Ge="PAUSE",He="STOP",We=function(e){var t=Object(i.useState)(He),n=Object(ae.a)(t,2),a=n[0],c=n[1],s=function(e){try{var t=new Date(null);return t.setSeconds(parseInt(e)),t.toISOString().substr(11,8)}catch(n){return"00:00:00"}};return Object(I.jsxs)("div",{className:Pe.a.container,children:[Object(I.jsx)("span",{className:Pe.a.currentTime,children:s(e.currentTime)}),Object(I.jsx)("button",{onClick:e.backward,className:Pe.a.backwardBtn,children:Object(I.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"28",viewBox:"0 0 16 28",children:[Object(I.jsx)("title",{children:"Backward 5s"}),Object(I.jsx)("path",{d:"M15.297 2.203c0.391-0.391 0.703-0.25 0.703 0.297v23c0 0.547-0.313 0.688-0.703 0.297l-11.094-11.094c-0.094-0.094-0.156-0.187-0.203-0.297v10.594c0 0.547-0.453 1-1 1h-2c-0.547 0-1-0.453-1-1v-22c0-0.547 0.453-1 1-1h2c0.547 0 1 0.453 1 1v10.594c0.047-0.109 0.109-0.203 0.203-0.297z"})]})}),a===Ge||a===He?Object(I.jsx)("button",{onClick:function(){c(Fe),e.play()},className:Pe.a.playBtn,children:Object(I.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[Object(I.jsx)("title",{children:"Play"}),Object(I.jsx)("path",{d:"M12 20.016q3.281 0 5.648-2.367t2.367-5.648-2.367-5.648-5.648-2.367-5.648 2.367-2.367 5.648 2.367 5.648 5.648 2.367zM12 2.016q4.125 0 7.055 2.93t2.93 7.055-2.93 7.055-7.055 2.93-7.055-2.93-2.93-7.055 2.93-7.055 7.055-2.93zM9.984 16.5v-9l6 4.5z"})]})}):null,a===Fe?Object(I.jsx)("button",{onClick:function(){c(Ge),e.pause()},className:Pe.a.pauseBtn,children:Object(I.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[Object(I.jsx)("title",{children:"Pause"}),Object(I.jsx)("path",{d:"M12.984 15.984v-7.969h2.016v7.969h-2.016zM12 20.016q3.281 0 5.648-2.367t2.367-5.648-2.367-5.648-5.648-2.367-5.648 2.367-2.367 5.648 2.367 5.648 5.648 2.367zM12 2.016q4.125 0 7.055 2.93t2.93 7.055-2.93 7.055-7.055 2.93-7.055-2.93-2.93-7.055 2.93-7.055 7.055-2.93zM9 15.984v-7.969h2.016v7.969h-2.016z"})]})}):null,Object(I.jsx)("button",{onClick:function(){c(He),e.stop()},className:Pe.a.stopBtn,children:Object(I.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[Object(I.jsx)("title",{children:"Stop"}),Object(I.jsx)("path",{d:"M6 6h12v12h-12v-12z"})]})}),Object(I.jsx)("button",{onClick:e.forward,className:Pe.a.forwardBtn,children:Object(I.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"28",viewBox:"0 0 16 28",children:[Object(I.jsx)("title",{children:"Forward 5s"}),Object(I.jsx)("path",{d:"M0.703 25.797c-0.391 0.391-0.703 0.25-0.703-0.297v-23c0-0.547 0.313-0.688 0.703-0.297l11.094 11.094c0.094 0.094 0.156 0.187 0.203 0.297v-10.594c0-0.547 0.453-1 1-1h2c0.547 0 1 0.453 1 1v22c0 0.547-0.453 1-1 1h-2c-0.547 0-1-0.453-1-1v-10.594c-0.047 0.109-0.109 0.203-0.203 0.297z"})]})}),Object(I.jsx)("span",{className:Pe.a.totalTime,children:s(e.duration)})]})},Ye=n(87),Ze=n.n(Ye);function Xe(){return Object(I.jsxs)("div",{className:Ze.a.lds_ring,children:[Object(I.jsx)("div",{}),Object(I.jsx)("div",{}),Object(I.jsx)("div",{}),Object(I.jsx)("div",{})]})}var Je=n(38),Ke=n.n(Je),Qe=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(e){var i;return Object(v.a)(this,n),(i=t.call(this,e)).deleteVideoClip=Object(H.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.setState({deleting:!0}),e.prev=1,e.next=4,Y.a.delete("".concat(ee.BASE_URL,"/delete-video-clip/").concat(i.props.video_clip_id,"/"));case 4:return e.sent,i.setState({deleting:!1}),i.setState({isError:!1}),e.next=9,Y()("".concat(ee.BASE_URL,"/update-video/").concat(i.props.video_id,"/"),{method:"PUT",data:{sliced:!1},headers:{"Content-Type":"application/json"}});case 9:e.sent,setTimeout((function(){i.props.close(!0)}),1e3),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(1),i.setState({deleting:!1}),i.setState({isError:!0}),setTimeout((function(){i.props.close(!1)}),1e3);case 18:case"end":return e.stop()}}),e,null,[[1,13]])}))),i.state={deleting:!1,isError:!1},i}return Object(j.a)(n,[{key:"render",value:function(){var e=this;return Object(I.jsx)(ge,{close:function(){return e.props.close(!1)},children:Object(I.jsxs)("div",{className:Ke.a.container,id:"deleteConfirmWindow",children:[Object(I.jsxs)("div",{className:Ke.a.header,children:[Object(I.jsx)("h3",{children:"Delete ?"}),Object(I.jsx)("span",{children:"Are you sure you want to delete this video? You can't undo this action."})]}),Object(I.jsxs)("div",{className:Ke.a.actions,children:[Object(I.jsx)("button",{type:"button",className:".button_primary ".concat(Ke.a.deletebtn),onClick:this.deleteVideoClip,children:this.state.deleting?"Deleting...":"Delete"}),Object(I.jsx)("button",{type:"button",className:".button_reset ".concat(Ke.a.cancelbtn),onClick:function(){return e.props.close()},children:"Cancel"})]}),this.state.isError?Object(I.jsx)("span",{id:"delete_result",className:Ke.a.result,children:"Deletion failed!"}):null]})})}}]),n}(i.Component),$e=n(39),et=n.n($e),tt=function(e){return Object(I.jsx)(ge,{close:function(){return e.close()},children:Object(I.jsxs)("div",{className:et.a.container,children:[Object(I.jsxs)("div",{className:et.a.header,children:[Object(I.jsx)("h3",{className:e.res?et.a.success:et.a.failed,children:e.res?"Successed!":"Failed!"}),Object(I.jsx)("span",{children:e.res?"Video sliced succesfully.":"An error occured."})]}),Object(I.jsx)("div",{className:et.a.actions,children:Object(I.jsx)("button",{type:"button",className:"".concat(et.a.okbtn),onClick:e.close,children:"Ok"})})]})})},nt=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(e){var i;return Object(v.a)(this,n),(i=t.call(this,e)).fetchVideo=Object(H.a)(G.a.mark((function e(){var t;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.mounted){e.next=2;break}return e.abrupt("return");case 2:return i.setState({loading:!0}),e.prev=3,e.next=6,Y.a.get("".concat(ee.BASE_URL,"/video/").concat(localStorage.getItem(N),"/"));case 6:(t=e.sent)&&(i.setState({video:t.data}),i.initializeEditor()),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}}),e,null,[[3,10]])}))),i.fetchVideoClip=Object(H.a)(G.a.mark((function e(){var t;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.mounted){e.next=2;break}return e.abrupt("return");case 2:return i.setState({videoClip:""}),e.prev=3,e.next=6,Y.a.get("".concat(ee.BASE_URL,"/video-clip/").concat(localStorage.getItem(N),"/"));case 6:(t=e.sent)&&i.setState({videoClip:t.data[0]}),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}}),e,null,[[3,10]])}))),i.initializeEditor=function(){var e=Object(Ie.a)(i);i.videoEl=document.getElementById("video_slicer_preview_video"),i.timeline=document.getElementById("video_slicer_timeline"),i.timelineDrag=document.getElementById("video_slicer_timeline_drag"),i.videoEl.onplay=function(){De.a.ticker.add(e.videoUpdate)},i.videoEl.onpause=function(){De.a.ticker.remove(e.videoUpdate)},i.videoEl.onended=function(){De.a.ticker.remove(e.videoUpdate)},De.a.registerPlugin(qe.a),qe.a.create(i.timelineDrag,{type:"x",bounds:i.timeline,inertia:!0,onPress:function(e){},onDrag:function(){e.videoEl.currentTime=this.x/this.maxX*e.videoEl.duration},onRelease:function(e){e.preventDefault()}})},i.playVideo=function(){i.videoEl.play()},i.pauseVideo=function(){i.videoEl.pause()},i.stopVideo=function(){i.videoEl.pause(),i.videoEl.currentTime=0,De.a.set(i.timelineDrag,{x:0})},i.backwardVideo=function(){if(i.videoEl.currentTime-5>0){var e=i.videoEl.currentTime;i.videoEl.currentTime=e-5}},i.forwardVideo=function(){if(i.videoEl.currentTime+5<i.videoEl.duration){var e=i.videoEl.currentTime;i.videoEl.currentTime=e+5}},i.highlightArea=function(){var e=null,t=null;i.marker1>i.marker2?(e=i.marker1,t=i.marker2):(e=i.marker2,t=i.marker1);var n=i.timeline.offsetWidth*(t/i.videoEl.duration),a=i.timeline.offsetWidth*(e/i.videoEl.duration)-n,c=document.createElement("div");c.classList.add("".concat(Ue.a.timeline_progress)),c.id="timeline_progress",c.style.width="".concat(a,"px"),i.timeline.appendChild(c),De.a.set(c,{x:n})},i.resetEditor=function(){i.stopVideo();for(var e=document.getElementsByClassName("".concat(Ue.a.timeline_marker)),t=0;t<e.length;t++)e[t]&&(i.timeline.removeChild(e[t]),e[t].remove());var n=document.getElementById("timeline_progress");n&&i.timeline.removeChild(n),i.markerLength=0},i.closeDeleteModal=function(e){e?i.setState({deleting:!1,videoClip:""}):i.setState({deleting:!1})},i.closeResultModal=function(){i.setState({resultModal:!1,res:!1})},i.convertSec=function(e){try{var t=new Date(null);return t.setSeconds(parseInt(e)),t.toISOString().substr(11,8)}catch(n){return"00:00:00"}},i.onVideoLoaded=function(){i.setState({loading:!1}),setTimeout((function(){window.scroll({top:160,behavior:"smooth"})}),1500)},i.videoUpdate=function(){De.a.set(i.timelineDrag,{x:(i.videoEl.currentTime/i.videoEl.duration*(i.timeline.offsetWidth-6)).toFixed(4)})},i.timelineClicked=function(e){var t=e.clientX-i.timeline.offsetLeft,n=t*i.videoEl.duration/(i.timeline.offsetWidth-6);i.videoEl.currentTime=n,i.videoEl.paused&&De.a.set(i.timelineDrag,{x:t.toFixed(4)})},i.timelineDragClicked=function(){if(!(i.markerLength>=2)){var e=Object(Ie.a)(i),t=document.createElement("div"),n=document.createElement("div"),a=document.createElement("div");t.classList.add("".concat(Ue.a.timeline_marker));var c=i.markerLength;n.id=c,n.classList.add("".concat(Ue.a.timeline_marker_top)),n.innerHTML='\n    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n      <path d="M18.984 12.984h-13.969v-1.969h13.969v1.969z"></path>\n    </svg>\n    ',a.classList.add("".concat(Ue.a.timeline_marker_body)),t.appendChild(n),t.appendChild(a),i.timeline.appendChild(t),i.videoEl.currentTime===i.videoEl.duration?De.a.set(t,{x:0}):De.a.set(t,{x:(i.videoEl.currentTime/i.videoEl.duration*i.timeline.offsetWidth).toFixed(4)}),0===i.markerLength?i.marker1=i.videoEl.currentTime:i.marker2=i.videoEl.currentTime;var s=i.markerLength;if(i.markerLength=s+1,2===i.markerLength){i.highlightArea();var r=Math.abs(i.marker1-i.marker2);i.setState({selectedTime:r})}n.onclick=function(){e.timeline.removeChild(t);var n=e.markerLength;if(e.markerLength=n-1,e.markerLength<2){var i=document.getElementById("timeline_progress");i&&e.timeline.removeChild(i),e.setState({selectedTime:0})}}}},i.onVideoTimeUpdate=function(e){i.setState({currentTime:i.videoEl.currentTime})},i.sliceVideo=Object(H.a)(G.a.mark((function e(){var t,n,a,c;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i.markerLength<2||i.state.slicing)){e.next=2;break}return e.abrupt("return");case 2:return t=null,n=null,i.marker1.time>i.marker2.time?(t=i.marker1,n=i.marker2):(t=i.marker2,n=i.marker1),a=Math.round(n),c=Math.round(t),i.setState({slicing:!0}),e.prev=8,e.next=11,Y()("".concat(ee.BASE_URL,"/add-video-clip/"),{method:"POST",data:{video_id:i.state.video.id,start_time:a,end_time:c},headers:{"Content-Type":"application/json"}});case 11:if(!e.sent){e.next=19;break}return i.setState({slicing:!1,resultModal:!0,res:!0}),i.fetchVideoClip(),i.resetEditor(),e.next=18,Y()("".concat(ee.BASE_URL,"/update-video/").concat(i.state.video.id,"/"),{method:"PUT",data:{sliced:!0},headers:{"Content-Type":"application/json"}});case 18:e.sent;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(8),i.setState({slicing:!1,resultModal:!0,res:!1}),i.setState({slicing:!1});case 25:case"end":return e.stop()}}),e,null,[[8,21]])}))),i.deleteVideoClip=function(){i.setState({deleting:!0})},i.state={video:"",videoClip:"",loading:!1,currentTime:0,ended:!1,frames:[],slicing:!1,deleting:!1,resultModal:!1,res:!1,selectedTime:0},i.mounted=!1,i}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.mounted=!0,this.fetchVideo(),this.fetchVideoClip(),this.markerLength=0}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=document.getElementById("video_slicer_preview_video");e&&(e.pause(),e.removeAttribute("src"),e.load(),e.remove())}},{key:"render",value:function(){var e=this,t=localStorage.getItem(y),n=this.state,a=n.video,c=n.videoClip,s=[{name:"Home",link:"/"},{name:t===g?"Typical Videos":"Atypical Videos",link:t===g?"/t_videos":"/at_videos"}];return Object(I.jsxs)(i.Fragment,{children:[Object(I.jsx)(Q,{heading:"Slice Video",sub_links:s,current:"Slice Video",state:null}),Object(I.jsxs)("div",{className:"container",children:[this.state.loading&&!a?Object(I.jsx)("div",{className:Ue.a.loadingDiv,children:Object(I.jsx)(ie,{})}):Object(I.jsxs)("div",{className:Ue.a.editor,children:[Object(I.jsxs)("video",{id:"video_slicer_preview_video",autoPlay:!1,muted:!0,controls:!1,loop:!1,poster:"http://localhost:8000"+a.thumbnail,onLoadedData:this.onVideoLoaded,onTimeUpdate:this.onVideoTimeUpdate,children:[Object(I.jsx)("source",{src:"http://localhost:8000"+a.video,type:a.file_type}),"Video playing error"]}),Object(I.jsxs)("div",{id:"video_slicer_timeline",className:Ue.a.timelineDiv,onClick:this.timelineClicked,children:[Object(I.jsxs)("div",{id:"video_slicer_timeline_drag",className:Ue.a.timeline_drag,children:[Object(I.jsx)("div",{className:Ue.a.timeline_drag_top,onClick:this.timelineDragClicked,children:Object(I.jsx)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(I.jsx)("path",{d:"M18.984 12.984h-6v6h-1.969v-6h-6v-1.969h6v-6h1.969v6h6v1.969z"})})}),Object(I.jsx)("div",{className:Ue.a.timeline_drag_body})]}),Object(I.jsx)("div",{className:Ue.a.timeline_background})]}),Object(I.jsxs)("div",{className:Ue.a.footerDiv,children:[Object(I.jsxs)("span",{children:["Selected time slot: ",this.convertSec(this.state.selectedTime)]}),Object(I.jsx)(We,{currentTime:this.videoEl?this.state.currentTime:0,duration:a?a.duration:0,play:this.playVideo,pause:this.pauseVideo,stop:this.stopVideo,backward:this.backwardVideo,forward:this.forwardVideo}),Object(I.jsxs)("button",{type:"submit",className:Ue.a.slicebtn,onClick:this.sliceVideo,children:[this.state.slicing?Object(I.jsx)(Xe,{}):null,this.state.slicing?"Slicing...":"Slice"]})]})]}),Object(I.jsxs)("div",{className:Ue.a.edited,children:[Object(I.jsx)("h2",{children:"Sliced Video"}),Object(I.jsx)("div",{className:Ue.a.video,children:this.state.videoClip?Object(I.jsxs)("div",{className:Ue.a.videoClip,children:[Object(I.jsx)(ye,{vkey:c.id,video:c}),Object(I.jsx)("button",{onClick:this.deleteVideoClip,children:"Delete"})]}):Object(I.jsx)("div",{className:Ue.a.empty,children:Object(I.jsx)("img",{src:Re,alt:"no video"})})})]})]}),this.state.deleting?Object(I.jsx)(Qe,{close:function(t){return e.closeDeleteModal(t)},video_clip_id:c.id,video_id:a.id}):null,this.state.resultModal?Object(I.jsx)(tt,{res:this.state.res,close:this.closeResultModal}):null]})}}]),n}(i.Component),it=n(41),at=n(88),ct=n(89),st=n(64),rt={videos:[]};function ot(e,t){for(var n=0;n<e.length;n++)if(t.id===e[n].id)return!0;return!1}var lt={currentNav:null},dt=Object(it.combineReducers)({videoReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:var n=Object(st.a)(e.videos);if(n.length>0)for(var i=Object(st.a)(t.data),a=0;a<i.length;a++)ot(n,i[a])||n.push(i[a]);else n=t.data;return Object(r.a)(Object(r.a)({},e),{},{videos:n});case C:return Object(r.a)(Object(r.a)({},e),{},{videos:[]});default:return e}},navigationReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return Object(r.a)(Object(r.a)({},e),{},{currentNav:t.data});default:return e}}}),ut=[ct.a],ht=Object(it.createStore)(dt,{},Object(at.composeWithDevTools)(it.applyMiddleware.apply(void 0,ut))),vt=function(){return Object(I.jsx)(d.a,{store:ht,children:Object(I.jsx)(o.a,{children:Object(I.jsxs)("div",{className:h.a.app,children:[Object(I.jsx)(q,{}),Object(I.jsx)("main",{className:h.a.main,children:Object(I.jsxs)(l.c,{children:[Object(I.jsx)(l.a,{path:"/t_videos/:video_id",render:function(e){return Object(I.jsx)(Te,{children:Object(I.jsx)(nt,Object(r.a)({},e))})}}),Object(I.jsx)(l.a,{path:"/at_videos/:video_id",render:function(e){return Object(I.jsx)(Te,{children:Object(I.jsx)(nt,Object(r.a)({},e))})}}),Object(I.jsx)(l.a,{exact:!0,path:"/t_videos",render:function(e){return Object(I.jsx)(Te,{children:Object(I.jsx)(Le,Object(r.a)({},e))})}}),Object(I.jsx)(l.a,{exact:!0,path:"/at_videos",render:function(e){return Object(I.jsx)(Te,{children:Object(I.jsx)(Be,Object(r.a)({},e))})}}),Object(I.jsx)(l.a,{exact:!0,path:"/",component:P}),Object(I.jsx)(l.a,{path:"*",children:Object(I.jsx)("div",{children:Object(I.jsx)("h1",{children:"404 Not Found"})})})]})})]})})})},jt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,148)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),i(e),a(e),c(e),s(e)}))};s.a.render(Object(I.jsx)(a.a.StrictMode,{children:Object(I.jsx)(vt,{})}),document.getElementById("root")),jt()},15:function(e,t,n){e.exports={container:"Navbar_container__8wUEI",logo:"Navbar_logo__2qu--",logo_1:"Navbar_logo_1__3oadX",logo_1_1:"Navbar_logo_1_1__3h_uF",logo_1_2:"Navbar_logo_1_2__FhcYC",nav:"Navbar_nav__1sZgf",nav_li_selected:"Navbar_nav_li_selected__2Poau",nav_a_selected:"Navbar_nav_a_selected__fZLlm",copyright:"Navbar_copyright__a1bhg",copyright_2:"Navbar_copyright_2__GioIn",csaat_home:"Navbar_csaat_home__1zeSO",uploader_home:"Navbar_uploader_home__2c1Uq"}},16:function(e,t,n){e.exports={edited:"EditPage_edited__s1S-m",video:"EditPage_video__3DKUo",empty:"EditPage_empty__2-iBK",loadingDiv:"EditPage_loadingDiv__3X-0z",editor:"EditPage_editor__ipJ8w",timelineDiv:"EditPage_timelineDiv__1Rnzp",timeline_background:"EditPage_timeline_background__3cFCq",timeline_drag:"EditPage_timeline_drag__rul9a",timeline_marker:"EditPage_timeline_marker__3w2GD",timeline_drag_top:"EditPage_timeline_drag_top__3aZYK",timeline_marker_top:"EditPage_timeline_marker_top__aBT2-",timeline_drag_body:"EditPage_timeline_drag_body__1ICsX",timeline_marker_body:"EditPage_timeline_marker_body__3NLqy",timeline_progress:"EditPage_timeline_progress__1lioh",footerDiv:"EditPage_footerDiv__15BSm",slicebtn:"EditPage_slicebtn__2lDrm",videoClip:"EditPage_videoClip__1ujR4"}},25:function(e,t,n){e.exports={filterDiv:"VideoGridView_filterDiv__17PHi",videoGrid:"VideoGridView_videoGrid__3pcAW",emptyDiv:"VideoGridView_emptyDiv__idU3A",loading_div:"VideoGridView_loading_div__2wKd9",countDiv:"VideoGridView_countDiv__11dku"}},30:function(e,t,n){e.exports={container:"VideoGridIItem_container__3YWHw",player:"VideoGridIItem_player__eEhT6",detail:"VideoGridIItem_detail__1ELX2",info:"VideoGridIItem_info__fbVBT",info_1:"VideoGridIItem_info_1__365wh",yes:"VideoGridIItem_yes__fDGlU",no:"VideoGridIItem_no__1r34l",details:"VideoGridIItem_details__1XOI1",show:"VideoGridIItem_show__2HcNR",select_btn:"VideoGridIItem_select_btn__1G82z"}},31:function(e,t,n){e.exports={container:"ModalFrame_container__1LqQH",fadein:"ModalFrame_fadein__bqssh",container_play:"ModalFrame_container_play___st-s",overlay:"ModalFrame_overlay__z_Q9r",overlay_fadein:"ModalFrame_overlay_fadein__S1T4p",closebtn:"ModalFrame_closebtn__26x_9",closebtn_svg:"ModalFrame_closebtn_svg__17e2n",closebtn_play_svg:"ModalFrame_closebtn_play_svg__24cIL"}},32:function(e,t,n){e.exports={container:"Search_container__pq7aE",searchDiv:"Search_searchDiv__3_N8j",help:"Search_help__2rF51",helptext:"Search_helptext__mmsz-",show:"Search_show__efZnN",refresh:"Search_refresh__DZvBU"}},33:function(e,t,n){e.exports={container:"Controls_container__3SOq8",currentTime:"Controls_currentTime__3luFL",totalTime:"Controls_totalTime__2sbkC",playBtn:"Controls_playBtn__2UtiT",pauseBtn:"Controls_pauseBtn__eBkZv",stopBtn:"Controls_stopBtn__22Tyx",backwardBtn:"Controls_backwardBtn__3MS1r",forwardBtn:"Controls_forwardBtn__isjJP"}},38:function(e,t,n){e.exports={container:"DeleteConfirmAlert_container__3XZTz",header:"DeleteConfirmAlert_header__2RDyg",actions:"DeleteConfirmAlert_actions__1v3GJ",cancelbtn:"DeleteConfirmAlert_cancelbtn__1UHxA",deletebtn:"DeleteConfirmAlert_deletebtn__aqsKN",result:"DeleteConfirmAlert_result__1ry9B"}},39:function(e,t,n){e.exports={container:"ResultAlert_container__1b-Y9",header:"ResultAlert_header__2JiIQ",success:"ResultAlert_success__3JEqw",failed:"ResultAlert_failed__2VpTp",actions:"ResultAlert_actions__3RxmC",okbtn:"ResultAlert_okbtn__30Q2u"}},42:function(e,t,n){e.exports={container:"Tabs_container__37SkZ",selected:"Tabs_selected__2w4Zx"}},43:function(e,t,n){e.exports={container:"VideoPlayer_container__12ET7",shadow:"VideoPlayer_shadow__2b5ng",animate:"VideoPlayer_animate__egtn2"}},52:function(e,t,n){e.exports={container:"Homepage_container__278kL",tasks:"Homepage_tasks__2pufr",image:"Homepage_image__1WNLy"}},56:function(e,t,n){e.exports={app:"App_app__3OEtA",main:"App_main__1aioT"}},59:function(e,t,n){e.exports={container:"Tooltip_container__2dCvn"}},7:function(e,t){e.exports={BASE_URL:"http://localhost:8000/api"}},77:function(e,t,n){e.exports={breadcrumbs:"Breadcrumbs_breadcrumbs__SWvSv"}},78:function(e,t,n){e.exports={lds_default:"PageSpinner_lds_default__31F_Y"}},79:function(e,t,n){e.exports={container:"SingleVideoPlayerModal_container__1MFrc"}},87:function(e,t,n){e.exports={lds_ring:"BtnSpinner_lds_ring__3cxic"}},95:function(e,t,n){}},[[147,1,2]]]);
//# sourceMappingURL=main.a8b37baf.chunk.js.map